/* --- Data & State --- */
let day = 0;
let characters = []; 
let logs = [];

const getRelationTitle = (score) => {
    if (score <= -70) return "ê²¬ì›ì§€ê°„";
    if (score <= -30) return "ì„œë¨¹";
    if (score <= -10) return "ë°ë©´ë°ë©´";
    if (score === 0) return "ë³´í†µ";
    if (score <= 20) return "ê·¸ëƒ¥ì €ëƒ¥";
    if (score <= 50) return "ì¹œë°€";
    if (score <= 80) return "ê°ë³„";
    return "ë‹¨ì§ âœ¨";
};

const actionDefinitions = [
    // ìš”ë¦¬/ë¶€ì—Œ
    { id: 'cook_soup', name: 'ë–¡êµ­ ë“ì´ê¸°', room: 'kitchen' },
    { id: 'cook_pancake', name: 'ì „ ë¶€ì¹˜ê¸°', room: 'kitchen' },
    { id: 'make_dumpling', name: 'ë§Œë‘ ë¹šê¸°', room: 'kitchen' },
    { id: 'cut_garnish', name: 'ì§€ë‹¨ ì°ê¸°', room: 'kitchen' },
    { id: 'wash_dish', name: 'ì„¤ê±°ì§€í•˜ê¸°', room: 'kitchen' },
    { id: 'skewers', name: 'ì‚°ì  ê¼¬ì¹˜ ë¼ìš°ê¸°', room: 'kitchen' },
    { id: 'sikhye', name: 'ì‹í˜œ ë„ìš°ê¸°', room: 'kitchen' },
    { id: 'galbi', name: 'ê°ˆë¹„ì°œ ê°„ ë³´ê¸°', room: 'kitchen' },
    { id: 'fruit', name: 'ê³¼ì¼ ê¹ê¸°', room: 'kitchen' },
    { id: 'ricecake', name: 'ê°€ë˜ë–¡ ì°ê¸°', room: 'kitchen' },
    // ì²­ì†Œ/ì§‘ì•ˆì¼
    { id: 'sweep_yard', name: 'ë§ˆë‹¹ ëˆˆ ì“¸ê¸°', room: 'yard' },
    { id: 'polish_brass', name: 'ë†‹ê·¸ë¦‡ ë‹¦ê¸°', room: 'living' },
    { id: 'dust_screen', name: 'ë³‘í’ ë¨¼ì§€ í„¸ê¸°', room: 'ancestor' },
    { id: 'set_table', name: 'ì œì‚¬ìƒ ì°¨ë¦¬ê¸°', room: 'ancestor' },
    { id: 'clean_shoe', name: 'í˜„ê´€ ì‹ ë°œ ì •ë¦¬', room: 'living' },
    { id: 'iron_hanbok', name: 'í•œë³µ ë‹¤ë¦¼ì§ˆ', room: 'living' },
    { id: 'mat_layout', name: 'ë—ìë¦¬ í´ê¸°', room: 'living' },
    { id: 'incense', name: 'í–¥ë¡œ ì¤€ë¹„', room: 'ancestor' },
    { id: 'trash', name: 'ì“°ë ˆê¸° ì •ë¦¬', room: 'yard' },
    { id: 'folding_screen', name: 'ë³‘í’ ì„¤ì¹˜', room: 'ancestor' },
    // ë†€ì´
    { id: 'yutnori', name: 'ìœ·ë†€ì´', room: 'living' },
    { id: 'kite', name: 'ì—°ë‚ ë¦¬ê¸°', room: 'yard' },
    { id: 'jegi', name: 'ì œê¸°ì°¨ê¸°', room: 'yard' },
    { id: 'hwatu', name: 'í™”íˆ¬ ì¹˜ê¸°', room: 'living' },
    { id: 'top_spin', name: 'íŒ½ì´ì¹˜ê¸°', room: 'yard' },
    { id: 'tuho', name: 'íˆ¬í˜¸ ë˜ì§€ê¸°', room: 'yard' },
    { id: 'gonggi', name: 'ê³µê¸°ë†€ì´', room: 'living' },
    { id: 'boardgame', name: 'ë³´ë“œê²Œì„', room: 'living' },
    { id: 'sing', name: 'ë…¸ë˜ìë‘', room: 'living' },
    { id: 'run', name: 'ìˆ ë˜ì¡ê¸°', room: 'yard' },
    // íœ´ì‹/ë”´ì§“
    { id: 'nap', name: 'ë‚®ì  ìê¸°', room: 'ancestor' },
    { id: 'tv_movie', name: 'íŠ¹ì„ ì˜í™” ì‹œì²­', room: 'living' },
    { id: 'smartphone', name: 'ìŠ¤ë§ˆíŠ¸í° í•˜ê¸°', room: 'ancestor' },
    { id: 'mandarin', name: 'ê·¤ ê¹Œë¨¹ê¸°', room: 'living' },
    { id: 'coffee', name: 'ì»¤í”¼ íƒ€ì„', room: 'yard' },
    { id: 'stretch', name: 'ìŠ¤íŠ¸ë ˆì¹­', room: 'living' },
    { id: 'read_comic', name: 'ë§Œí™”ì±… ë³´ê¸°', room: 'ancestor' },
    { id: 'snack_steal', name: 'ëª°ë˜ ì•½ê³¼ ë¨¹ê¸°', room: 'kitchen' },
    { id: 'massage', name: 'ì•ˆë§ˆì˜ì ì‚¬ìš©', room: 'living' },
    { id: 'window_gaze', name: 'ì°½ë°– êµ¬ê²½', room: 'living' },
    // ì‚¬êµ/ëŒ€í™”
    { id: 'bow', name: 'ì„¸ë°°í•˜ê¸°', room: 'living' },
    { id: 'allowance', name: 'ì„¸ë±ƒëˆ ì£¼ê¸°', room: 'living' },
    { id: 'virtue', name: 'ë•ë‹´ ë‚˜ëˆ„ê¸°', room: 'living' },
    { id: 'old_story', name: 'ì˜›ë‚  ì´ì•¼ê¸°', room: 'living' },
    { id: 'marriage_nag', name: 'ê²°í˜¼ ì”ì†Œë¦¬', room: 'living' },
    { id: 'job_nag', name: 'ì·¨ì—… ì”ì†Œë¦¬', room: 'living' },
    { id: 'study_nag', name: 'ê³µë¶€ ì”ì†Œë¦¬', room: 'living' },
    { id: 'praise', name: 'ì„œë¡œ ì¹­ì°¬í•˜ê¸°', room: 'living' },
    { id: 'album', name: 'ì‚¬ì§„ì²© êµ¬ê²½', room: 'ancestor' },
    { id: 'video_call', name: 'ì˜ìƒí†µí™”', room: 'living' },
];

const ACTION_SCRIPTS = {
    // --- ìš”ë¦¬ ---
    'cook_soup': {
        solo_success: "${c1}(ì€)ëŠ” ë–¡êµ­ ê°„ì„ ì™„ë²½í•˜ê²Œ ë§ì·„ìŠµë‹ˆë‹¤. êµ­ë¬¼ ë§›ì´ ì¼í’ˆì…ë‹ˆë‹¤.",
        solo_fail: "${c1}(ì€)ëŠ” ë–¡êµ­ì„ ë„ˆë¬´ ì˜¤ë˜ ë“ì—¬ ë–¡ì´ íë¬¼íë¬¼í•œ ì£½ì´ ë˜ì—ˆìŠµë‹ˆë‹¤.",
        solo_normal: "${c1}(ì€)ëŠ” ë¬µë¬µíˆ ë–¡êµ­ êµ­ë¬¼ì„ ì €ìœ¼ë©° ê±°í’ˆì„ ê±·ì–´ëƒ…ë‹ˆë‹¤.",
        duo_success: "${c1}(ì™€)ê³¼ ${c2}(ì€)ëŠ” í™˜ìƒì˜ í˜¸í¡ìœ¼ë¡œ ìµœê³ ì˜ ë–¡êµ­ì„ ì™„ì„±í–ˆìŠµë‹ˆë‹¤.",
        duo_fail: "${c1}(ì´)ê°€ ë–¡êµ­ì— ì†Œê¸ˆ í†µì„ ì—ì§ˆëŸ¬ ${c2}(ì´)ê°€ ë¹„ëª…ì„ ì§ˆë €ìŠµë‹ˆë‹¤.",
        duo_normal: "${c1}(ì™€)ê³¼ ${c2}(ì€)ëŠ” ë‚˜ë€íˆ ì„œì„œ ë–¡êµ­ ëƒ„ë¹„ë¥¼ ì§€ì¼œë´…ë‹ˆë‹¤."
    },
    'cook_pancake': {
        solo_success: "${c1}(ì€)ëŠ” ê³µì¤‘ì—ì„œ ì „ ë’¤ì§‘ê¸°ì— ì„±ê³µí–ˆìŠµë‹ˆë‹¤!",
        solo_fail: "${c1}(ì€)ëŠ” ì „ì„ ë’¤ì§‘ë‹¤ ë°”ë‹¥ì— ë–¨ì–´ëœ¨ë ¸ìŠµë‹ˆë‹¤.",
        solo_normal: "${c1}(ì€)ëŠ” ê³ ì†Œí•œ ê¸°ë¦„ ëƒ„ìƒˆë¥¼ ë§¡ìœ¼ë©° ì „ì„ ë¶€ì¹©ë‹ˆë‹¤.",
        duo_success: "${c1}(ì´)ê°€ ì „ì„ ë¶€ì¹˜ê³  ${c2}(ì´)ê°€ ë‹´ìœ¼ë©° ê¸°ê³„ ê°™ì€ ì†ë„ë¥¼ ë³´ì—¬ì¤ë‹ˆë‹¤.",
        duo_fail: "${c1}(ì´)ê°€ ê¸°ë¦„ì„ íŠ€ê²¨ ${c2}(ì´)ê°€ í™”ë“¤ì§ ë†€ë¼ ë’·ê±¸ìŒì§ˆ ì¹©ë‹ˆë‹¤.",
        duo_normal: "${c1}(ì™€)ê³¼ ${c2}(ì€)ëŠ” ë„ë€ë„ë€ ì´ì•¼ê¸°ë¥¼ ë‚˜ëˆ„ë©° ì „ì„ ë¶€ì¹©ë‹ˆë‹¤."
    },
    'make_dumpling': {
        solo_success: "${c1}(ì€)ëŠ” ë¹šì€ ë§Œë‘ê°€ ì˜ˆìˆ  ì‘í’ˆ ê°™ìŠµë‹ˆë‹¤.",
        solo_fail: "${c1}(ì´)ê°€ ë¹šì€ ë§Œë‘ëŠ” ì˜†êµ¬ë¦¬ê°€ ë‹¤ í„°ì¡ŒìŠµë‹ˆë‹¤. ë§Œë‘£êµ­ì´ íƒí•´ì§ˆ ê²ƒ ê°™ìŠµë‹ˆë‹¤.",
        solo_normal: "${c1}(ì€)ëŠ” ë§Œë‘í”¼ì— ì†ì„ ê½‰ ì±„ì›Œ ë„£ê³  ìˆìŠµë‹ˆë‹¤.",
        duo_success: "${c1}(ì™€)ê³¼ ${c2}(ì€)ëŠ” ëˆ„ê°€ ë” ì˜ˆì˜ê²Œ ë¹šë‚˜ ë‚´ê¸°í•˜ë©° ì¦ê²ê²Œ ë§Œë‘ë¥¼ ë§Œë“­ë‹ˆë‹¤.",
        duo_fail: "${c1}(ì´)ê°€ ë§Œë‘í”¼ì— ë¬¼ì„ ë¬»íˆë‹¤ ${c2}ì—ê²Œ ë¬¼ì„ íŠ€ê²¼ìŠµë‹ˆë‹¤.",
        duo_normal: "${c1}(ì€)ëŠ” ë§Œë‘í”¼ë¥¼ ë°€ê³  ${c2}(ì€)ëŠ” ì†ì„ ë„£ìŠµë‹ˆë‹¤."
    },
    'cut_garnish': {
        solo_success: "${c1}(ì€)ëŠ” í™©ë°±ì§€ë‹¨ì„ ì‹¤ì²˜ëŸ¼ ê³±ê²Œ ì°ì–´ëƒˆìŠµë‹ˆë‹¤.",
        solo_fail: "${c1}(ì€)ëŠ” ì§€ë‹¨ì´ ë‹¤ ì°¢ì–´ì ¸ì„œ ê·¸ëƒ¥ ê³„ë€ë§ì´ì²˜ëŸ¼ ì°ì–´ë²„ë ¸ìŠµë‹ˆë‹¤.",
        solo_normal: "${c1}(ì€)ëŠ” ì§‘ì¤‘í•´ì„œ ê³„ë€ ì§€ë‹¨ì„ ì°ê³  ìˆìŠµë‹ˆë‹¤.",
        duo_success: "${c1}(ì™€)ê³¼ ${c2}(ì€)ëŠ” ì„œë¡œì˜ ì¹¼ì§ˆì„ ì¹­ì°¬í•˜ë©° ì§€ë‹¨ì„ ì¤€ë¹„í•©ë‹ˆë‹¤.",
        duo_fail: "${c1}(ì´)ê°€ ì¹¼ì§ˆì„ ë„ˆë¬´ ë¹¨ë¦¬ í•˜ë‹¤ ${c2}(ì„)ë¥¼ ë¶ˆì•ˆí•˜ê²Œ ë§Œë“­ë‹ˆë‹¤.",
        duo_normal: "${c1}(ì™€)ê³¼ ${c2}(ì€)ëŠ” ì¡°ìš©íˆ ë„ë§ˆ ì†Œë¦¬ë¥¼ ë‚´ë©° ì§€ë‹¨ì„ ì¹ë‹ˆë‹¤."
    },
    'wash_dish': {
        solo_success: "${c1}(ì€)ëŠ” ì‹±í¬ëŒ€ì—ì„œ ìŒ“ì¸ ê·¸ë¦‡ì„ ìˆœì‹ê°„ì— í•´ì¹˜ì› ìŠµë‹ˆë‹¤.",
        solo_fail: "${c1}(ì€)ëŠ” ê·¸ë¦‡ì„ ë‹¦ë‹¤ ì ‘ì‹œ í•˜ë‚˜ë¥¼ ê¹¨ëœ¨ë ¸ìŠµë‹ˆë‹¤.",
        solo_normal: "${c1}(ì€)ëŠ” ê³ ë¬´ì¥ê°‘ì„ ë¼ê³  ë¬µë¬µíˆ ì„¤ê±°ì§€ë¥¼ í•©ë‹ˆë‹¤.",
        duo_success: "${c1}(ì´)ê°€ ì”»ê³  ${c2}(ì´)ê°€ í—¹êµ¬ë‹ˆ ì„¤ê±°ì§€ ì‚°ì´ ê¸ˆë°© ì‚¬ë¼ì§‘ë‹ˆë‹¤.",
        duo_fail: "${c1}(ì´)ê°€ ë¬¼ì„ ë„ˆë¬´ ì„¸ê²Œ í‹€ì–´ ${c2}ì—ê²Œ ë¬¼ë²¼ë½ì„ ì•ˆê²¼ìŠµë‹ˆë‹¤.",
        duo_normal: "${c1}(ì™€)ê³¼ ${c2}(ì€)ëŠ” ë‚˜ë€íˆ ì„œì„œ ì„¤ê±°ì§€ë¥¼ í•˜ë©° ì´ì•¼ê¸°ë¥¼ ë‚˜ëˆ•ë‹ˆë‹¤."
    },
    'skewers': {
        solo_success: "${c1}(ì€)ëŠ” ë§›ì‚´, í–„, ì±„ì†Œë¥¼ ìƒ‰ê¹” ë§ì¶° ì™„ë²½í•˜ê²Œ ê½‚ì•˜ìŠµë‹ˆë‹¤.",
        solo_fail: "${c1}(ì€)ëŠ” ì‚°ì  ê¼¬ì¹˜ë¥¼ ë¼ìš°ë‹¤ ì†ê°€ë½ì„ ì°”ë ¸ìŠµë‹ˆë‹¤.",
        solo_normal: "${c1}(ì€)ëŠ” ë‹¨ìˆœ ë…¸ë™ì˜ í‰í™”ë¡œì›€ì„ ëŠë¼ë©° ì‚°ì ì„ ë§Œë“­ë‹ˆë‹¤.",
        duo_success: "${c1}(ì™€)ê³¼ ${c2}(ì€)ëŠ” ë¶„ì—…í™”ëœ ì‹œìŠ¤í…œìœ¼ë¡œ ì‚°ì  ê³µì¥ì„ ê°€ë™í•©ë‹ˆë‹¤.",
        duo_fail: "${c1}(ì´)ê°€ ì‚°ì ì— í–„ë§Œ ê³¨ë¼ ê½‚ì•„ì„œ ${c2}(ì´)ê°€ íƒ€ë°•í•©ë‹ˆë‹¤.",
        duo_normal: "${c1}(ì™€)ê³¼ ${c2}(ì€)ëŠ” ì¬ë£Œ ìˆœì„œë¥¼ ë§ì¶°ê°€ë©° ê¼¬ì¹˜ë¥¼ ë¼ì›ë‹ˆë‹¤."
    },
    'sikhye': {
        solo_success: "${c1}(ì€)ëŠ” ì‹í˜œ ë°¥ì•Œì„ ì ë‹¹íˆ ë„ìš°ëŠ” ë° ì„±ê³µí–ˆìŠµë‹ˆë‹¤.",
        solo_fail: "${c1}(ì€)ëŠ” ì„¤íƒ•ì„ ìŸì•„ë¶€ì–´ ì‹í˜œê°€ ì‹œëŸ½ì´ ë˜ì—ˆìŠµë‹ˆë‹¤.",
        solo_normal: "${c1}(ì€)ëŠ” ì‹í˜œ í•­ì•„ë¦¬ë¥¼ ë“¤ì—¬ë‹¤ë³´ë©° ì˜ ì‚­ì•˜ë‚˜ í™•ì¸í•©ë‹ˆë‹¤.",
        duo_success: "${c1}(ì™€)ê³¼ ${c2}(ì€)ëŠ” ì‚´ì–¼ìŒ ë™ë™ ëœ¬ ì‹í˜œë¥¼ ë§›ë³´ë©° ê°íƒ„í•©ë‹ˆë‹¤.",
        duo_fail: "${c1}(ì´)ê°€ ì‹í˜œë¥¼ ì˜®ê¸°ë‹¤ ${c2}ì˜ ë°œë“±ì— í˜ë ¸ìŠµë‹ˆë‹¤.",
        duo_normal: "${c1}(ì™€)ê³¼ ${c2}(ì€)ëŠ” ì‹í˜œë¥¼ êµ­ìë¡œ ì €ìœ¼ë©° ì´ì•¼ê¸°ë¥¼ ë‚˜ëˆ•ë‹ˆë‹¤."
    },
    'galbi': {
        solo_success: "${c1}(ì€)ëŠ” ê°ˆë¹„ì°œ ê³ ê¸°ë¥¼ ì…ì•ˆì—ì„œ ì‚´ì‚´ ë…¹ê²Œ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤.",
        solo_fail: "${c1}(ì€)ëŠ” ê°ˆë¹„ë¥¼ ë‹¤ íƒœì›Œë¨¹ì–´ íƒ„ë‚´ê°€ ì§„ë™í•©ë‹ˆë‹¤.",
        solo_normal: "${c1}(ì€)ëŠ” ê°ˆë¹„ì°œ ëƒ„ë¹„ ëšœê»‘ì„ ì—´ê³  êµ­ë¬¼ì„ ë¼ì–¹ìŠµë‹ˆë‹¤.",
        duo_success: "${c1}(ì™€)ê³¼ ${c2}(ì€)ëŠ” ê°ˆë¹„ ë§›ì„ ë³´ê³  ì„œë¡œ ë¯¸ì†Œì§“ìŠµë‹ˆë‹¤.",
        duo_fail: "${c1}(ì´)ê°€ ë°¤ì„ ê¹ë‹¤ ${c2}ì—ê²Œ ê»ì§ˆì„ íŠ€ê²¼ìŠµë‹ˆë‹¤.",
        duo_normal: "${c1}(ì™€)ê³¼ ${c2}(ì€)ëŠ” ê°ˆë¹„ì°œì— ë“¤ì–´ê°ˆ ë‹¹ê·¼ì„ ë‹¤ë“¬ìŠµë‹ˆë‹¤."
    },
    'fruit': {
        solo_success: "${c1}(ì€)ëŠ” ì‚¬ê³¼ ê»ì§ˆì„ ëŠì–´ì§€ì§€ ì•Šê³  ê¸¸ê²Œ ê¹ì•˜ìŠµë‹ˆë‹¤.",
        solo_fail: "${c1}(ì€)ëŠ” ê³¼ì¼ì„ ê¹ë‹¤ ì‚´ì ì„ ê¹ì•„ë¨¹ì„ ë»”í–ˆìŠµë‹ˆë‹¤. ì¡°ì‹¬í•˜ì„¸ìš”!",
        solo_normal: "${c1}(ì€)ëŠ” ë°°ì™€ ì‚¬ê³¼ë¥¼ ì ‘ì‹œì— ë‹´ê³  ìˆìŠµë‹ˆë‹¤.",
        duo_success: "${c1}(ì™€)ê³¼ ${c2}(ì€)ëŠ” ì˜ˆìœ í† ë¼ ëª¨ì–‘ìœ¼ë¡œ ì‚¬ê³¼ë¥¼ ê¹ì•„ëƒˆìŠµë‹ˆë‹¤.",
        duo_fail: "${c1}(ì´)ê°€ ê¹ì€ ê³¼ì¼ ëª¨ì–‘ì´ ì—‰ë§ì´ë¼ ${c2}(ì´)ê°€ ì›ƒìŒì„ ì°¸ìŠµë‹ˆë‹¤.",
        duo_normal: "${c1}(ì€)ëŠ” ì‚¬ê³¼ë¥¼ ê¹ê³  ${c2}(ì€)ëŠ” í¬í¬ë¥¼ ì¤€ë¹„í•©ë‹ˆë‹¤."
    },
    'ricecake': {
        solo_success: "${c1}(ì€)ëŠ” ì¼ì •í•œ ë‘ê»˜ë¡œ ê°€ë˜ë–¡ì„ ì°ì–´ëƒ…ë‹ˆë‹¤.",
        solo_fail: "${c1}(ì€)ëŠ” ë–¡ì´ ë„ˆë¬´ ë”±ë”±í•´ì„œ ì¹¼ì´ ë°•í˜€ë²„ë ¸ìŠµë‹ˆë‹¤.",
        solo_normal: "${c1}(ì€)ëŠ” ì–´ìŠ·ì°ê¸°ë¡œ ê°€ë˜ë–¡ì„ ì°ê³  ìˆìŠµë‹ˆë‹¤.",
        duo_success: "${c1}(ì™€)ê³¼ ${c2}(ì€)ëŠ” ê°€ë˜ë–¡ì„ ë¶ˆì„ ë„ê³ ë„ ì° ê¸°ì„¸ì…ë‹ˆë‹¤.",
        duo_fail: "${c1}(ì´)ê°€ ì¬ ë–¡ì˜ ë‘ê»˜ê°€ ì œê°ê°ì´ë¼ ${c2}(ì´)ê°€ ì”ì†Œë¦¬ë¥¼ í•©ë‹ˆë‹¤.",
        duo_normal: "${c1}(ì™€)ê³¼ ${c2}(ì€)ëŠ” ë§ˆì£¼ ë³´ê³  ì•‰ì•„ ë–¡ì„ ì¹ë‹ˆë‹¤."
    },

    // --- ì²­ì†Œ/ì§‘ì•ˆì¼ ---
    'sweep_yard': {
        solo_success: "${c1}(ì€)ëŠ” ë§ˆë‹¹ì˜ ëˆˆì„ ê¹”ë”í•˜ê²Œ ì¹˜ì›Œ ê¸¸ì„ ëƒˆìŠµë‹ˆë‹¤.",
        solo_fail: "${c1}(ì€)ëŠ” ë¹—ìë£¨ì§ˆì„ í•˜ë‹¤ ë¯¸ë„ëŸ¬ì ¸ ë„˜ì–´ì¡ŒìŠµë‹ˆë‹¤.",
        solo_normal: "${c1}(ì€)ëŠ” ì‹¸ë¦¬ë¹—ìë£¨ë¡œ ë§ˆë‹¹ì„ ì“¸ê³  ìˆìŠµë‹ˆë‹¤.",
        duo_success: "${c1}(ì™€)ê³¼ ${c2}(ì€)ëŠ” ëˆˆì„ ëª¨ì•„ ëˆˆì‚¬ëŒì„ ë§Œë“¤ë©° ì¦ê²ê²Œ ì²­ì†Œí•©ë‹ˆë‹¤.",
        duo_fail: "${c1}(ì´)ê°€ ì“´ ëˆˆì´ ${c2} ìª½ìœ¼ë¡œ ë‚ ì•„ê°€ ì‹¸ì›€ì´ ë‚  ë»”í–ˆìŠµë‹ˆë‹¤.",
        duo_normal: "${c1}(ì™€)ê³¼ ${c2}(ì€)ëŠ” êµ¬ì—­ì„ ë‚˜ëˆ„ì–´ ëˆˆì„ ì”ë‹ˆë‹¤."
    },
    'polish_brass': {
        solo_success: "${c1}(ì€)ëŠ” ë†‹ê·¸ë¦‡ì„ ê±°ìš¸ì²˜ëŸ¼ ë°˜ì§ì´ê²Œ ë‹¦ì•˜ìŠµë‹ˆë‹¤.",
        solo_fail: "${c1}(ì€)ëŠ” íŒ”ì´ ì•„íŒŒ ë†‹ê·¸ë¦‡ì„ ëŒ€ì¶© ë‹¦ê³  ëª¨ë¥¸ ì²™í•©ë‹ˆë‹¤.",
        solo_normal: "${c1}(ì€)ëŠ” ë§ˆë¥¸ ìˆ˜ê±´ìœ¼ë¡œ ì œê¸°ë¥¼ ë‹¦ê³  ìˆìŠµë‹ˆë‹¤.",
        duo_success: "${c1}(ì™€)ê³¼ ${c2}(ì€)ëŠ” ë†‹ê·¸ë¦‡ì— ì„œë¡œì˜ ì–¼êµ´ì„ ë¹„ì¶°ë³´ë©° ì›ƒìŠµë‹ˆë‹¤.",
        duo_fail: "${c1}(ì´)ê°€ ë‹¦ë˜ ë†‹ê·¸ë¦‡ì„ ë†“ì³ ${c2}ì˜ ë°œ ìœ„ì— ë–¨ì–´ëœ¨ë ¸ìŠµë‹ˆë‹¤.",
        duo_normal: "${c1}(ì™€)ê³¼ ${c2}(ì€)ëŠ” ë¬µë¬µíˆ ë†‹ê·¸ë¦‡ì„ ë‹¦ìœ¼ë©° ì¡ë…ì„ ì—†ì•±ë‹ˆë‹¤."
    },
    'dust_screen': {
        solo_success: "${c1}(ì€)ëŠ” ë³‘í’ êµ¬ì„êµ¬ì„ì˜ ë¨¼ì§€ë¥¼ ì™„ë²½íˆ ì œê±°í–ˆìŠµë‹ˆë‹¤.",
        solo_fail: "${c1}(ì€)ëŠ” ë¨¼ì§€ë¥¼ í„¸ë‹¤ ê¸°ì¹¨ì„ ë©ˆì¶”ì§€ ëª»í•©ë‹ˆë‹¤.",
        solo_normal: "${c1}(ì€)ëŠ” ë¨¼ì§€ ë–¨ì´ë¡œ ë³‘í’ì„ í„¸ê³  ìˆìŠµë‹ˆë‹¤.",
        duo_success: "${c1}(ì™€)ê³¼ ${c2}(ì€)ëŠ” ë³‘í’ ê·¸ë¦¼ì„ ê°ìƒí•˜ë©° ì²­ì†Œí•©ë‹ˆë‹¤.",
        duo_fail: "${c1}(ì´)ê°€ ë¨¼ì§€ë¥¼ ${c2} ìª½ìœ¼ë¡œ í„¸ì–´ë²„ë ¸ìŠµë‹ˆë‹¤.",
        duo_normal: "${c1}(ì™€)ê³¼ ${c2}(ì€)ëŠ” ë³‘í’ ì•ë’¤ë¥¼ í™•ì¸í•˜ë©° ë‹¦ìŠµë‹ˆë‹¤."
    },
    'set_table': {
        solo_success: "${c1}(ì€)ëŠ” í™ë™ë°±ì„œì˜ ì›ì¹™ì„ ì™„ë²½í•˜ê²Œ ì§€ì¼œ ìƒì„ ì°¨ë ¸ìŠµë‹ˆë‹¤.",
        solo_fail: "${c1}(ì€)ëŠ” ë°°ê°€ ì–´ë””ê³  ì‚¬ê³¼ê°€ ì–´ë””ì¸ì§€ í—·ê°ˆë ¤ ìš°ì™•ì¢Œì™•í•©ë‹ˆë‹¤.",
        solo_normal: "${c1}(ì€)ëŠ” ì œì‚¬ìƒì— ìŒì‹ì„ ë‚˜ë¥´ê³  ìˆìŠµë‹ˆë‹¤.",
        duo_success: "${c1}(ì™€)ê³¼ ${c2}(ì€)ëŠ” í•¨ê»˜ í˜ì„ í•©ì³ ì™„ë²½í•˜ê²Œ ìƒì„ ì°¨ë ¤ëƒ…ë‹ˆë‹¤.",
        duo_fail: "${c1}(ì™€)ê³¼ ${c2}(ì€)ëŠ” ìƒì„  ë¨¸ë¦¬ ë°©í–¥ì„ ë‘ê³  ë…¼ìŸì„ ë²Œì…ë‹ˆë‹¤.",
        duo_normal: "${c1}(ì€)ëŠ” ì œì‚¬ìƒ ìœ„ì— ìŒì‹ì„ ë‚˜ë¥´ê³  ${c2}(ì€)ëŠ” ê·¸ë¦‡ì˜ ì¤„ì„ ë§ì¶¥ë‹ˆë‹¤."
    },
    'clean_shoe': {
        solo_success: "${c1}(ì€)ëŠ” í˜„ê´€ì— ë„ë¶€ëŸ¬ì§„ ì‹ ë°œì„ ìë¡œ ì° ê²ƒì²˜ëŸ¼ ì •ë¦¬í•©ë‹ˆë‹¤.",
        solo_fail: "${c1}(ì€)ëŠ” ì‹ ë°œì„ ì •ë¦¬í•˜ë‹¤ê°€ ê±¸ë ¤ ë„˜ì–´ì§‘ë‹ˆë‹¤.",
        solo_normal: "${c1}(ì€)ëŠ” ì†ë‹˜ë“¤ì˜ ì‹ ë°œì„ ê°€ì§€ëŸ°íˆ í•©ë‹ˆë‹¤.",
        duo_success: "${c1}(ì™€)ê³¼ ${c2}(ì€)ëŠ” ëˆ„êµ¬ ì‹ ë°œì¸ì§€ ë§íˆê¸° ë†€ì´ë¥¼ í•˜ë©° ì •ë¦¬í•©ë‹ˆë‹¤.",
        duo_fail: "${c1}(ì´)ê°€ ì‹ ë°œ ì •ë¦¬ ë„ì¤‘ ${c2}ì˜ ì‹ ë°œì„ ë°Ÿì•„ë²„ë ¸ìŠµë‹ˆë‹¤.",
        duo_normal: "${c1}(ì™€)ê³¼ ${c2}(ì€)ëŠ” í˜„ê´€ì„ ì •ë¦¬í•˜ë©° ê³µê°„ì„ ë§Œë“­ë‹ˆë‹¤."
    },
    'iron_hanbok': {
        solo_success: "${c1}(ì€)ëŠ” í•œë³µì˜ ë™ì • ì£¼ë¦„ì„ ì™„ë²½í•˜ê²Œ ì‚´ë ¤ ë‹¤ë ¸ìŠµë‹ˆë‹¤.",
        solo_fail: "${c1}(ì€)ëŠ” ë‹¤ë¦¬ë¯¸ ì˜¨ë„ë¥¼ ëª» ë§ì¶° ì˜·ê° ì¼ë¶€ë¶„ì„ íƒœìš¸ ë»”í–ˆìŠµë‹ˆë‹¤.",
        solo_normal: "${c1}(ì€)ëŠ” ì¡°ì‹¬ìŠ¤ëŸ½ê²Œ í•œë³µì„ ë‹¤ë¦¬ê³  ìˆìŠµë‹ˆë‹¤.",
        duo_success: "${c1}(ì™€)ê³¼ ${c2}(ì€)ëŠ” ì„œë¡œì˜ í•œë³µ ë§¤ë¬´ìƒˆë¥¼ ë´ì£¼ë©° ë‹¤ë¦¼ì§ˆí•©ë‹ˆë‹¤.",
        duo_fail: "${c1}(ì´)ê°€ í•œë³µì„ ë‹¤ë¦¬ê¸° ìœ„í•´ ë¬¼ì„ ë¿Œë¦¬ë‹¤ ${c2}ì˜ ì–¼êµ´ì— ë¿Œë ¸ìŠµë‹ˆë‹¤.",
        duo_normal: "${c1}(ì€)ëŠ” í•œë³µì„ ì¡ê³  ${c2}(ì€)ëŠ” ë‹¤ë¦¼ì§ˆì„ í•©ë‹ˆë‹¤."
    },
    'mat_layout': {
        solo_success: "${c1}(ì€)ëŠ” ê±°ì‹¤ ì¤‘ì•™ì— ë—ìë¦¬ë¥¼ íŒ½íŒ½í•˜ê²Œ ì˜ íˆìŠµë‹ˆë‹¤.",
        solo_fail: "${c1}(ì€)ëŠ” ë—ìë¦¬ ë°©í–¥ì„ ì˜ëª» ì¡ì•„ ë‹¤ì‹œ ì ‘ê³  ìˆìŠµë‹ˆë‹¤.",
        solo_normal: "${c1}(ì€)ëŠ” ë—ìë¦¬ë¥¼ í´ê³  ìˆìŠµë‹ˆë‹¤.",
        duo_success: "${c1}(ì™€)ê³¼ ${c2}(ì€)ëŠ” ì–‘ìª½ì—ì„œ ë—ìë¦¬ë¥¼ ì¡ì•„ ë‹¨ë²ˆì— íˆìŠµë‹ˆë‹¤.",
        duo_fail: "${c1}(ì™€)ê³¼ ${c2}(ì€)ëŠ” ì„œë¡œ ë‹¹ê¸°ë‹¤ê°€ ë—ìë¦¬ë¥¼ ì°¢ì„ ë»”í–ˆìŠµë‹ˆë‹¤.",
        duo_normal: "${c1}(ì™€)ê³¼ ${c2}(ì€)ëŠ” ë—ìë¦¬ ìœ„ë¥¼ ê±¸ë ˆì§ˆí•©ë‹ˆë‹¤."
    },
    'incense': {
        solo_success: "${c1}(ì€)ëŠ” í–¥ì˜ ì¬ë¥¼ ê¹”ë”í•˜ê²Œ ë‹¤ë“¬ì—ˆìŠµë‹ˆë‹¤.",
        solo_fail: "${c1}(ì€)ëŠ” í–¥ë¡œë¥¼ ì—ì–´ ë°©ë°”ë‹¥ì´ ì¬íˆ¬ì„±ì´ê°€ ë˜ì—ˆìŠµë‹ˆë‹¤.",
        solo_normal: "${c1}(ì€)ëŠ” í–¥ì„ ì¤€ë¹„í•˜ê³  ìˆìŠµë‹ˆë‹¤.",
        duo_success: "${c1}(ì™€)ê³¼ ${c2}(ì€)ëŠ” ê²½ê±´í•œ ë§ˆìŒìœ¼ë¡œ ì œê¸°ë¥¼ ë‹¦ìŠµë‹ˆë‹¤.",
        duo_fail: "${c1}(ì´)ê°€ í–¥ ì•ì—ì„œ ì¬ì±„ê¸°ë¥¼ í•´ì„œ ${c2}ì—ê²Œ ì¬ê°€ ë‚ ë ¸ìŠµë‹ˆë‹¤.",
        duo_normal: "${c1}(ì™€)ê³¼ ${c2}(ì€)ëŠ” ì§€ë°©ì„ ì“°ê³  í–¥ì„ ì¤€ë¹„í•©ë‹ˆë‹¤."
    },
    'trash': {
        solo_success: "${c1}(ì€)ëŠ” ë³µì¡í•œ ì“°ë ˆê¸° ë¶„ë¦¬ìˆ˜ê±°ë¥¼ ì™„ë²½íˆ í•´ëƒˆìŠµë‹ˆë‹¤.",
        solo_fail: "${c1}(ì€)ëŠ” ì“°ë ˆê¸° ë´‰íˆ¬ê°€ í„°ì ¸ì„œ í˜¼ë€ì— ë¹ ì¡ŒìŠµë‹ˆë‹¤.",
        solo_normal: "${c1}(ì€)ëŠ” ë°•ìŠ¤ì™€ ë¹„ë‹ì„ ì •ë¦¬í•˜ê³  ìˆìŠµë‹ˆë‹¤.",
        duo_success: "${c1}(ì™€)ê³¼ ${c2}(ì€)ëŠ” ì‚°ë”ë¯¸ ê°™ì€ ì“°ë ˆê¸°ë¥¼ ìˆœì‹ê°„ì— ì¹˜ì› ìŠµë‹ˆë‹¤.",
        duo_fail: "${c1}(ì´)ê°€ ìŒì‹ë¬¼ ì“°ë ˆê¸°ë¥¼ ${c2} ê·¼ì²˜ì— í˜ë ¸ìŠµë‹ˆë‹¤.",
        duo_normal: "${c1}(ì™€)ê³¼ ${c2}(ì€)ëŠ” ì§ì„ ë‚˜ëˆ  ë“¤ê³  ë‚˜ê°‘ë‹ˆë‹¤."
    },
    'folding_screen': {
        solo_success: "${c1}(ì€)ëŠ” ë¬´ê±°ìš´ ë³‘í’ì„ í˜¼ìì„œë„ ê· í˜• ìˆê²Œ ì˜ ì„¸ì› ìŠµë‹ˆë‹¤.",
        solo_fail: "${c1}(ì€)ëŠ” ë³‘í’ì´ ìê¾¸ ì“°ëŸ¬ì ¸ì„œ ì§„ë•€ì„ ëºë‹ˆë‹¤.",
        solo_normal: "${c1}(ì€)ëŠ” ë³‘í’ ìœ„ì¹˜ë¥¼ ì¡ê³  ìˆìŠµë‹ˆë‹¤.",
        duo_success: "${c1}(ì™€)ê³¼ ${c2}(ì€)ëŠ” ì–‘ìª½ì—ì„œ ë³‘í’ì„ ì¡ì•„ ì•ˆì •ì ìœ¼ë¡œ ì„¤ì¹˜í–ˆìŠµë‹ˆë‹¤.",
        duo_fail: "${c1}(ì´)ê°€ ì†ì„ ë†“ì•„ ${c2}(ì´)ê°€ ë³‘í’ì— ê¹”ë¦´ ë»”í–ˆìŠµë‹ˆë‹¤.",
        duo_normal: "${c1}(ì™€)ê³¼ ${c2}(ì€)ëŠ” ë³‘í’ ê°ë„ë¥¼ ì¡°ì ˆí•©ë‹ˆë‹¤."
    },

    // --- ë†€ì´ ---
    'yutnori': {
        solo_success: "${c1}(ì´)ê°€ ë˜ì§„ ìœ·ì´ ëª¨ê°€ ë‚˜ì™”ìŠµë‹ˆë‹¤! ì˜¤ëŠ˜ ìš´ìˆ˜ê°€ ì¢‹ìŠµë‹ˆë‹¤.",
        solo_fail: "${c1}(ì´)ê°€ ë˜ì§„ ìœ· ì¤‘ í•˜ë‚˜ê°€ ì¥ë¡± ë°‘ ê¹Šìˆ™ì´ ë“¤ì–´ê°”ìŠµë‹ˆë‹¤.",
        solo_normal: "${c1}(ì€)ëŠ” ìœ·ê°€ë½ì„ ë§Œì§€ì‘ê±°ë¦¬ë©° í–‰ìš´ì„ ë¹•ë‹ˆë‹¤.",
        duo_success: "${c1}(ì™€)ê³¼ ${c2}(ì€)ëŠ” í•˜ì´íŒŒì´ë¸Œë¥¼ í•˜ë©° ìœ·ë†€ì´íŒì„ íœ©ì”ë‹ˆë‹¤.",
        duo_fail: "${c1}(ì´)ê°€ ìœ·ë†€ì´ ë„ì¤‘ ë‚™ì´ ë‚˜ì™€ ${c2}(ì´)ê°€ ê¹Šì€ í•œìˆ¨ì„ ì‰½ë‹ˆë‹¤.",
        duo_normal: "${c1}(ì™€)ê³¼ ${c2}(ì€)ëŠ” ì‹¬ê°í•œ í‘œì •ìœ¼ë¡œ ë§ì„ ì–´ë””ë¡œ ì˜®ê¸¸ì§€ ê³ ë¯¼í•©ë‹ˆë‹¤."
    },
    'kite': {
        solo_success: "${c1}(ì€)ëŠ” ì—°ì„ í•˜ëŠ˜ ë†’ì´ ë‚ ë ¸ìŠµë‹ˆë‹¤. ì•„ì£¼ ì‘ê²Œ ë³´ì…ë‹ˆë‹¤.",
        solo_fail: "${c1}(ì˜) ì—°ì´ ì „ê¹ƒì¤„ ê·¼ì²˜ ë‚˜ë¬´ì— ê±¸ë ¤ë²„ë ¸ìŠµë‹ˆë‹¤.",
        solo_normal: "${c1}(ì€)ëŠ” ì—°ì˜ ì–¼ë ˆë¥¼ í’€ë©° ë°”ëŒì„ ê¸°ë‹¤ë¦½ë‹ˆë‹¤.",
        duo_success: "${c1}(ì™€)ê³¼ ${c2}(ì€)ëŠ” ì¦ê²ê²Œ ì„œë¡œì˜ ì—°ì‹¤ ëŠê¸° ë†€ì´ë¥¼ í•©ë‹ˆë‹¤.",
        duo_fail: "${c1}(ì´)ê°€ ì¤„ì„ ì—‰í‚¤ê²Œ ë§Œë“¤ì–´ ${c2}ì˜ ì—°ê¹Œì§€ ì¶”ë½í–ˆìŠµë‹ˆë‹¤.",
        duo_normal: "${c1}(ì™€)ê³¼ ${c2}(ì€)ëŠ” ë‚˜ë€íˆ ì„œì„œ ì—°ì„ ë‚ ë¦½ë‹ˆë‹¤."
    },
    'jegi': {
        solo_success: "${c1}(ì€)ëŠ” í•œë²ˆì— ì œê¸°ë¥¼ 50ê°œë‚˜ ì°¼ìŠµë‹ˆë‹¤.",
        solo_fail: "${c1}(ì€)ëŠ” ì œê¸°ë¥¼ ì°¨ë ¤ë‹¤ í—›ë°œì§ˆì„ í•˜ê³  ë„˜ì–´ì¡ŒìŠµë‹ˆë‹¤.",
        solo_normal: "${c1}(ì€)ëŠ” ì œê¸°ë¥¼ ì†ì— ë“¤ê³  ê°€ë³ê²Œ ë˜ì ¸ë´…ë‹ˆë‹¤.",
        duo_success: "${c1}(ì™€)ê³¼ ${c2}(ì€)ëŠ” ì œê¸°ë¥¼ ì£¼ê³ ë°›ìœ¼ë©° ë¬˜ê¸°ë¥¼ ë¶€ë¦½ë‹ˆë‹¤.",
        duo_fail: "${c1}(ì´)ê°€ ì°¬ ì œê¸°ê°€ ${c2}ì˜ ì´ë§ˆë¥¼ ê°•íƒ€í–ˆìŠµë‹ˆë‹¤.",
        duo_normal: "${c1}(ì™€)ê³¼ ${c2}(ì€)ëŠ” ì œê¸°ì°¨ê¸° ë‚´ê¸°ë¥¼ í•˜ê³  ìˆìŠµë‹ˆë‹¤."
    },
    'hwatu': {
        solo_success: "${c1}(ì´)ê°€ í˜¼ì í™”íˆ¬íŒ¨ë¥¼ ë–¼ì–´ë³´ë‹ˆ ìš´ì„¸ê°€ ì•„ì£¼ ì¢‹ìŠµë‹ˆë‹¤.",
        solo_fail: "${c1}(ì€)ëŠ” í™”íˆ¬íŒ¨ë¥¼ ì„ë‹¤ê°€ ì‚¬ë°©ìœ¼ë¡œ í©ë¿Œë ¸ìŠµë‹ˆë‹¤.",
        solo_normal: "${c1}(ì€)ëŠ” ë‹´ìš”ë¥¼ ê¹”ê³  íŒ¨ë¥¼ ì •ë¦¬í•©ë‹ˆë‹¤.",
        duo_success: "${c1}(ì™€)ê³¼ ${c2}(ì€)ëŠ” ê´‘ì„ ì‹¹ì“¸ì´í•˜ë©° ê¸°ë»í•©ë‹ˆë‹¤.",
        duo_fail: "${c1}(ì´)ê°€ ë°‘ì¥ë¹¼ê¸°ë¥¼ í•˜ë ¤ë‹¤ ${c2}ì—ê²Œ ê±¸ë ¸ìŠµë‹ˆë‹¤. ì†ëª© ì¡°ì‹¬í•˜ì„¸ìš”.",
        duo_normal: "${c1}(ì™€)ê³¼ ${c2}(ì€)ëŠ” 10ì›ì§œë¦¬ ë™ì „ì„ ê±¸ê³  ì¹˜ì—´í•˜ê²Œ ìŠ¹ë¶€í•©ë‹ˆë‹¤."
    },
    'top_spin': {
        solo_success: "${c1}ì˜ íŒ½ì´ê°€ ë©ˆì¶”ì§€ ì•Šê³  ê³„ì† ëŒê³  ìˆìŠµë‹ˆë‹¤.",
        solo_fail: "${c1}(ì˜) íŒ½ì´ëŠ” ëŒìë§ˆì í”½ ì“°ëŸ¬ì§‘ë‹ˆë‹¤.",
        solo_normal: "${c1}(ì€)ëŠ” íŒ½ì´ ì±„ë¥¼ ê°ê³  ìˆìŠµë‹ˆë‹¤.",
        duo_success: "${c1}(ì™€)ê³¼ ${c2}(ì€)ëŠ” íŒ½ì´ ì‹¸ì›€ì—ì„œ ì¹˜ì—´í•œ ìŠ¹ë¶€ë¥¼ ë³´ì—¬ì¤ë‹ˆë‹¤.",
        duo_fail: "${c1}(ì´)ê°€ íŒ½ì´ ì±„ë¥¼ íœ˜ë‘ë¥´ë‹¤ ${c2}ë¥¼ ì¹  ë»”í–ˆìŠµë‹ˆë‹¤.",
        duo_normal: "${c1}(ì™€)ê³¼ ${c2}(ì€)ëŠ” ë¹™íŒ ìœ„ì—ì„œ íŒ½ì´ë¥¼ ì¹©ë‹ˆë‹¤."
    },
    'tuho': {
        solo_success: "${c1}(ì€)ëŠ” ë˜ì§€ëŠ” ì¡±ì¡± í™”ì‚´ì„ í•­ì•„ë¦¬ì— ë„£ìŠµë‹ˆë‹¤.",
        solo_fail: "${c1}(ì€)ëŠ” í™”ì‚´ì´ í•­ì•„ë¦¬ ê·¼ì²˜ì—ë„ ëª» ê°€ê³  ë•…ì— ë–¨ì–´ì§‘ë‹ˆë‹¤.",
        solo_normal: "${c1}(ì€)ëŠ” íˆ¬í˜¸ í™”ì‚´ì„ ë“¤ê³  ê±°ë¦¬ë¥¼ ê°€ëŠ í•©ë‹ˆë‹¤.",
        duo_success: "${c1}(ì™€)ê³¼ ${c2}(ì€)ëŠ” íˆ¬í˜¸ë¥¼ í•˜ë©° ë™ì‹œì— í™”ì‚´ì„ ë„£ê³  í™˜í˜¸í•©ë‹ˆë‹¤.",
        duo_fail: "${c1}(ì´)ê°€ ë˜ì§„ í™”ì‚´ì´ íŠ•ê²¨ ë‚˜ì™€ ${c2} ìª½ìœ¼ë¡œ ë‚ ì•„ê°”ìŠµë‹ˆë‹¤.",
        duo_normal: "${c1}(ì™€)ê³¼ ${c2}(ì€)ëŠ” ìˆœì„œë¥¼ ì •í•´ íˆ¬í˜¸ë¥¼ ì¦ê¹ë‹ˆë‹¤."
    },
    'gonggi': {
        solo_success: "${c1}(ì€)ëŠ” ê³µê¸°ì•Œ 5ê°œë¥¼ ì†ë“±ì— ì˜¬ë¦¬ê³  êº¾ê¸°ì— ì„±ê³µí•©ë‹ˆë‹¤.",
        solo_fail: "${c1}(ì€)ëŠ” ê³µê¸°ì•Œì„ ì¡ìœ¼ë ¤ë‹¤ ì†í†±ìœ¼ë¡œ ë°”ë‹¥ì„ ê¸ì—ˆìŠµë‹ˆë‹¤.",
        solo_normal: "${c1}(ì´)ê°€ ê³µê¸°ì•Œì„ ë§Œì§€ì‘ê±°ë¦½ë‹ˆë‹¤.",
        duo_success: "${c1}(ì™€)ê³¼ ${c2}(ì€)ëŠ” ì—„ì²­ë‚œ ì†ë„ë¡œ ê³µê¸°ë†€ì´ë¥¼ ì§„í–‰í•©ë‹ˆë‹¤.",
        duo_fail: "${c1}(ì´)ê°€ ê³µê¸°ì•Œì„ ë˜ì§€ë‹¤ ${c2}ì˜ ì–¼êµ´ì„ ë§ì·„ìŠµë‹ˆë‹¤.",
        duo_normal: "${c1}(ì™€)ê³¼ ${c2}(ì€)ëŠ” í¸ì„ ë‚˜ëˆ„ì–´ ê³µê¸°ë†€ì´ë¥¼ í•©ë‹ˆë‹¤."
    },
    'boardgame': {
        solo_success: "${c1}(ì€)ëŠ” ë³µì¡í•œ ë³´ë“œê²Œì„ì„ í˜¼ìì„œ ì„¸íŒ…í•˜ê³  ë£°ì„ ë§ˆìŠ¤í„°í–ˆìŠµë‹ˆë‹¤.",
        solo_fail: "${c1}(ì€)ëŠ” ë³´ë“œê²Œì„ ì„¤ëª…ì„œë¥¼ ì½ë‹¤ê°€ ë¨¸ë¦¬ê°€ ì•„íŒŒì„œ í¬ê¸°í•©ë‹ˆë‹¤.",
        solo_normal: "${c1}(ì€)ëŠ” ë³´ë“œê²Œì„ ë§ì„ ì •ë¦¬í•˜ê³  ìˆìŠµë‹ˆë‹¤.",
        duo_success: "${c1}(ì™€)ê³¼ ${c2}(ì€)ëŠ” í˜‘ë ¥ ê²Œì„ì„ í•˜ë©° ì§€êµ¬ë¥¼ êµ¬í–ˆìŠµë‹ˆë‹¤.",
        duo_fail: "${c1}(ì™€)ê³¼ ${c2}(ì€)ëŠ” ìš°ì • íŒŒê´´ ê²Œì„ì„ í•˜ë‹¤ê°€ ì§„ì‹¬ìœ¼ë¡œ ì‹¸ìš¸ ê¸°ì„¸ì…ë‹ˆë‹¤.",
        duo_normal: "${c1}(ì™€)ê³¼ ${c2}(ì€)ëŠ” ì£¼ì‚¬ìœ„ë¥¼ êµ´ë¦¬ë©° ê²Œì„ì„ í•©ë‹ˆë‹¤."
    },
    'sing': {
        solo_success: "${c1}(ì€)ëŠ” ë§ˆì´í¬ë¥¼ ì¡ê³  ê³ ìŒì„ ì™„ë²½í•˜ê²Œ ì†Œí™”í•©ë‹ˆë‹¤.",
        solo_fail: "${c1}ì˜ ë…¸ë˜ ë„ì¤‘ ìŒì´íƒˆì´ ë°œìƒí•´ ì¹œì²™ë“¤ì´ ì›ƒìŒì„ í„°ëœ¨ë¦½ë‹ˆë‹¤.",
        solo_normal: "${c1}(ì€)ëŠ” ë…¸ë˜ë°© ì±…ì„ ë’¤ì ì…ë‹ˆë‹¤.",
        duo_success: "${c1}(ì™€)ê³¼ ${c2}(ì€)ëŠ” ë©‹ì§„ ë“€ì—£ê³¡ì„ ì„ ë³´ì—¬ ë°•ìˆ˜ë¥¼ ë°›ìŠµë‹ˆë‹¤.",
        duo_fail: "${c1}(ì´)ê°€ ë°•ìë¥¼ ë†“ì³ ${c2}ê¹Œì§€ ë…¸ë˜ë¥¼ ë§ì³¤ìŠµë‹ˆë‹¤.",
        duo_normal: "${c1}(ì™€)ê³¼ ${c2}(ì€)ëŠ” íƒ¬ë²„ë¦°ì„ í”ë“¤ë©° í¥ì„ ë‹ì›ë‹ˆë‹¤."
    },
    'run': {
        solo_success: "${c1}(ì€)ëŠ” ë§ˆë‹¹ì„ ì§ˆì£¼í•˜ë©° ì–´ë¦° ì‹œì ˆì²˜ëŸ¼ ë›°ë†‰ë‹ˆë‹¤.",
        solo_fail: "${c1}(ì€)ëŠ” ë›°ë‹¤ê°€ ìê¸° ë°œì— ê±¸ë ¤ ë„˜ì–´ì¡ŒìŠµë‹ˆë‹¤.",
        solo_normal: "${c1}(ì€)ëŠ” ë§ˆë‹¹ì—ì„œ ê°€ë³ê²Œ ë›°ê³  ìˆìŠµë‹ˆë‹¤.",
        duo_success: "${c1}(ì€)ëŠ” ${c2}(ì„)ë¥¼ ì¡ëŠ” ë° ì„±ê³µí–ˆìŠµë‹ˆë‹¤! ìˆ ë˜ê°€ ë°”ë€ë‹ˆë‹¤.",
        duo_fail: "${c1}(ì™€)ê³¼ ${c2}(ì€)ëŠ” ìˆ ë˜ì¡ê¸° ë„ì¤‘ ì„œë¡œ ë¶€ë”ªí˜€ ë’¹êµ´ì—ˆìŠµë‹ˆë‹¤.",
        duo_normal: "${c1}(ì™€)ê³¼ ${c2}(ì€)ëŠ” ì¦ê²ê²Œ ìˆ ë˜ì¡ê¸°ë¥¼ í•˜ë©° ì„œë¡œ ì«“ê³  ì«“ê¹ë‹ˆë‹¤."
    },

    // --- íœ´ì‹/ë”´ì§“ ---
    'nap': {
        solo_success: "${c1}(ì€)ëŠ” ì„¸ìƒ ëª¨ë¥´ê³  ë‚®ì ì„ ì¡ë‹ˆë‹¤.",
        solo_fail: "${c1}(ì´)ê°€ ë‚®ì ì„ ìë ¤ í–ˆìœ¼ë‚˜ ì‹œë„ëŸ¬ìš´ ì†Œë¦¬ì— ìê¾¸ ê¹¹ë‹ˆë‹¤.",
        solo_normal: "${c1}(ì€)ëŠ” ì´ë¶ˆì„ ë®ê³  ëˆ„ì›ŒìˆìŠµë‹ˆë‹¤.",
        duo_success: "${c1}(ì™€)ê³¼ ${c2}(ì€)ëŠ” ì„œë¡œ ê¸°ëŒ€ì–´ í‰í™”ë¡­ê²Œ ë‚®ì ì„ ì¡ë‹ˆë‹¤.",
        duo_fail: "${c1}(ì´)ê°€ ë‚®ì  ë„ì¤‘ ë„ˆë¬´ ì‹¬í•˜ê²Œ ë’¤ì²™ì—¬ ${c2}(ì´)ê°€ ê¹¨ì–´ë‚˜ ë²„ë¦½ë‹ˆë‹¤.",
        duo_normal: "${c1}(ì™€)ê³¼ ${c2}(ì€)ëŠ” ë‚˜ë€íˆ ëˆ„ì›Œ ë©í•˜ë‹ˆ ì²œì¥ì„ ë´…ë‹ˆë‹¤."
    },
    'tv_movie': {
        solo_success: "${c1}(ì€)ëŠ” íŠ¹ì„ ì˜í™”ì— ëª°ì…í•´ ëˆˆë¬¼ì„ í˜ë¦½ë‹ˆë‹¤.",
        solo_fail: "${c1}(ì€)ëŠ” ë¦¬ëª¨ì»¨ì„ ì¥ê³  ì±„ë„ë§Œ ê³„ì† ëŒë¦¬ê³  ìˆìŠµë‹ˆë‹¤.",
        solo_normal: "${c1}(ì€)ëŠ” ë©í•˜ë‹ˆ TVë¥¼ ë³´ê³  ìˆìŠµë‹ˆë‹¤.",
        duo_success: "${c1}(ì™€)ê³¼ ${c2}(ì€)ëŠ” ì˜í™” ì·¨í–¥ì´ ë”± ë§ì•„ ì¦ê²ê²Œ ì‹œì²­í•©ë‹ˆë‹¤.",
        duo_fail: "${c1}(ì´)ê°€ ì˜í™” ìŠ¤í¬ì¼ëŸ¬ë¥¼ í•´ì„œ ${c2}(ì´)ê°€ í™”ë¥¼ ëƒ…ë‹ˆë‹¤.",
        duo_normal: "${c1}(ì™€)ê³¼ ${c2}(ì€)ëŠ” TV ì•ì— ì•‰ì•„ ê³¼ì¼ì„ ë¨¹ìŠµë‹ˆë‹¤."
    },
    'smartphone': {
        solo_success: "${c1}(ì€)ëŠ” ëª¨ë°”ì¼ ê²Œì„ ë­í‚¹ 1ìœ„ë¥¼ ë‹¬ì„±í–ˆìŠµë‹ˆë‹¤.",
        solo_fail: "${c1}(ì€)ëŠ” íœ´ëŒ€í° ë°°í„°ë¦¬ê°€ 1% ë‚¨ì•„ì„œ ì•ˆì ˆë¶€ì ˆëª»í•©ë‹ˆë‹¤.",
        solo_normal: "${c1}(ì€)ëŠ” SNSë¥¼ í™•ì¸í•˜ê³  ìˆìŠµë‹ˆë‹¤.",
        duo_success: "${c1}(ì™€)ê³¼ ${c2}(ì€)ëŠ” ì¬ë¯¸ìˆëŠ” ì˜ìƒì„ ê³µìœ í•˜ë©° ë‚„ë‚„ê±°ë¦½ë‹ˆë‹¤.",
        duo_fail: "${c1}(ì´)ê°€ ${c2}ì˜ ì´ìƒí•œ ì‚¬ì§„ì„ ì°ìœ¼ë ¤ë‹¤ ê±¸ë ¸ìŠµë‹ˆë‹¤.",
        duo_normal: "${c1}(ì™€)ê³¼ ${c2}(ì€)ëŠ” ê°ì ìŠ¤ë§ˆíŠ¸í°ì„ ë´…ë‹ˆë‹¤."
    },
    'mandarin': {
        solo_success: "${c1}(ì€)ëŠ” ê·¤ ê¹Œê¸° ì¥ì¸ì…ë‹ˆë‹¤. ê»ì§ˆ ëª¨ì–‘ì´ ì˜ˆìˆ ì´ë„¤ìš”.",
        solo_fail: "${c1}(ì€)ëŠ” ê·¤ì„ ê¹Œë‹¤ê°€ ì¦™ì´ ëˆˆì— íŠ€ì—ˆìŠµë‹ˆë‹¤.",
        solo_normal: "${c1}(ì€)ëŠ” ì†ëì´ ë…¸ë—ê²Œ ë˜ë„ë¡ ê·¤ì„ ê¹Œë¨¹ìŠµë‹ˆë‹¤.",
        duo_success: "${c1}(ì´)ê°€ ê¹Œì¤€ ê·¤ì„ ${c2}(ì´)ê°€ ë°›ì•„ë¨¹ìŠµë‹ˆë‹¤.",
        duo_fail: "${c1}(ì´)ê°€ ê·¤ê»ì§ˆì„ ${c2}ì—ê²Œ ë˜ì§€ëŠ” ì¥ë‚œì„ ì¹©ë‹ˆë‹¤.",
        duo_normal: "${c1}(ì™€)ê³¼ ${c2}(ì€)ëŠ” ì „ê¸°ì¥íŒ ìœ„ì—ì„œ ê·¤ì„ ë¨¹ìŠµë‹ˆë‹¤."
    },
    'coffee': {
        solo_success: "${c1}(ì€)ëŠ” ë¯¹ìŠ¤ì»¤í”¼ í™©ê¸ˆë¹„ìœ¨ì„ ì°¾ì•„ëƒˆìŠµë‹ˆë‹¤.",
        solo_fail: "${c1}(ì€)ëŠ” ëœ¨ê±°ìš´ ì»¤í”¼ë¥¼ ê¸‰í•˜ê²Œ ë§ˆì‹œë‹¤ í˜€ë¥¼ ë°ì—ˆìŠµë‹ˆë‹¤.",
        solo_normal: "${c1}(ì€)ëŠ” ì»¤í”¼ í–¥ì„ ìŒë¯¸í•˜ê³  ìˆìŠµë‹ˆë‹¤.",
        duo_success: "${c1}(ì™€)ê³¼ ${c2}(ì€)ëŠ” ì»¤í”¼ í•œ ì”ì˜ ì—¬ìœ ë¥¼ ì¦ê¸°ë©° ë‹´ì†Œë¥¼ ë‚˜ëˆ•ë‹ˆë‹¤.",
        duo_fail: "${c1}(ì´)ê°€ ì»¤í”¼ë¥¼ ìŸì•„ ${c2}ì˜ ì˜·ì„ ë²„ë ¸ìŠµë‹ˆë‹¤.",
        duo_normal: "${c1}(ì™€)ê³¼ ${c2}(ì€)ëŠ” ì¢…ì´ì»µì„ ë“¤ê³  ë§ˆë‹¹ì„ ê±°ë‹™ë‹ˆë‹¤."
    },
    'stretch': {
        solo_success: "${c1}(ì€)ëŠ” ìœ ì—°í•˜ê²Œ ëª¸ì„ í’€ì–´ í”¼ë¡œë¥¼ ë‚ ë¦½ë‹ˆë‹¤.",
        solo_fail: "${c1}(ì€)ëŠ” í—ˆë¦¬ë¥¼ í´ë‹¤ê°€ ìš°ë‘ë‘‘ ì†Œë¦¬ê°€ ë‚¬ìŠµë‹ˆë‹¤.",
        solo_normal: "${c1}(ì€)ëŠ” íŒ”ì„ ëŒë¦¬ë©° ëª¸ì„ í’‰ë‹ˆë‹¤.",
        duo_success: "${c1}(ì™€)ê³¼ ${c2}(ì€)ëŠ” ì„œë¡œ ì•ˆë§ˆë¥¼ í•´ì£¼ë©° í”¼ë¡œë¥¼ í’‰ë‹ˆë‹¤.",
        duo_fail: "${c1}(ì´)ê°€ ìŠ¤íŠ¸ë ˆì¹­ì„ í•˜ë‹¤ ${c2}ë¥¼ ë°œë¡œ ì°¼ìŠµë‹ˆë‹¤.",
        duo_normal: "${c1}(ì™€)ê³¼ ${c2}(ì€)ëŠ” êµ­ë¯¼ì²´ì¡°ë¥¼ ë”°ë¼ í•©ë‹ˆë‹¤."
    },
    'read_comic': {
        solo_success: "${c1}(ì€)ëŠ” ëª…ì‘ ë§Œí™”ë¥¼ ë°œê²¬í•˜ê³  ì‹œê°„ ê°€ëŠ” ì¤„ ëª¨ë¦…ë‹ˆë‹¤.",
        solo_fail: "${c1}(ì€)ëŠ” ì½ë˜ ë§Œí™”ì±…ì˜ ë§ˆì§€ë§‰ ê¶Œì´ ì—†ì–´ì„œ ì ˆë§í•©ë‹ˆë‹¤.",
        solo_normal: "${c1}(ì€)ëŠ” êµ¬ì„ì—ì„œ ë§Œí™”ì±…ì„ ë´…ë‹ˆë‹¤.",
        duo_success: "${c1}(ì™€)ê³¼ ${c2}(ì€)ëŠ” ë§Œí™”ì±… ë‚´ìš©ì„ í† ë¡ í•˜ë©° ì¦ê±°ì›Œí•©ë‹ˆë‹¤.",
        duo_fail: "${c1}(ì™€)ê³¼ ${c2}(ì€)ëŠ” ì„œë¡œ ë¨¼ì € ì½ê² ë‹¤ê³  ì±…ì„ ì¡ì•„ë‹¹ê¹ë‹ˆë‹¤.",
        duo_normal: "${c1}(ì™€)ê³¼ ${c2}(ì€)ëŠ” ì—ë“œë ¤ì„œ ë§Œí™”ì±…ì„ ë´…ë‹ˆë‹¤."
    },
    'snack_steal': {
        solo_success: "${c1}(ì€)ëŠ” ì•„ë¬´ë„ ëª¨ë¥´ê²Œ ë§›ìˆëŠ” í•œê³¼ë¥¼ í›”ì³ ë¨¹ì—ˆìŠµë‹ˆë‹¤.",
        solo_fail: "${c1}(ì€)ëŠ” í•œê³¼ë¥¼ ëª°ë˜ ë¨¹ë‹¤ ì‚¬ë ˆê°€ ë“¤ë ¤ ì˜¨ ë™ë„¤ ë– ë‚˜ê°€ê²Œ ê¸°ì¹¨í•©ë‹ˆë‹¤.",
        solo_normal: "${c1}(ì€)ëŠ” ë¶€ì—Œì„ ì„œì„±ê±°ë¦¬ë©° ë¨¹ì„ ê²ƒì„ ì°¾ìŠµë‹ˆë‹¤.",
        duo_success: "${c1}(ì™€)ê³¼ ${c2}(ì€)ëŠ” ê³µë²”ì´ ë˜ì–´ ì•½ê³¼ë¥¼ ë‚˜ëˆ  ë¨¹ìŠµë‹ˆë‹¤.",
        duo_fail: "${c1}(ì´)ê°€ í•œê³¼ë¥¼ í˜¼ì ë‹¤ ë¨¹ì–´ì„œ ${c2}(ì´)ê°€ ì‚ì¡ŒìŠµë‹ˆë‹¤.",
        duo_normal: "${c1}(ì™€)ê³¼ ${c2}(ì€)ëŠ” ëˆˆì¹˜ë¥¼ ë³´ë©° ê°„ì‹ì„ ì§‘ì–´ ë“­ë‹ˆë‹¤."
    },
    'massage': {
        solo_success: "${c1}(ì€)ëŠ” ì•ˆë§ˆì˜ì ìœ„ì—ì„œ ì²œêµ­ì„ ë§›ë´…ë‹ˆë‹¤.",
        solo_fail: "${c1}(ì€)ëŠ” ì•ˆë§ˆ ê°•ë„ê°€ ë„ˆë¬´ ì„¸ì„œ ê³ í†µìŠ¤ëŸ¬ì›Œí•©ë‹ˆë‹¤.",
        solo_normal: "${c1}(ì€)ëŠ” ì•ˆë§ˆì˜ìì— íŒŒë¬»í˜€ ìˆìŠµë‹ˆë‹¤.",
        duo_success: "${c1}(ì€)ëŠ” ì•ˆë§ˆë¥¼ ë°›ê³  ${c2}(ì€)ëŠ” ì˜†ì—ì„œ ë§ë™ë¬´ë¥¼ í•´ì¤ë‹ˆë‹¤.",
        duo_fail: "${c1}(ì´)ê°€ ì•ˆë§ˆì˜ìì—ì„œ í†µ ì¼ì–´ë‚  ìƒê°ì„ í•˜ì§€ ì•Šì•„ ${c2}(ì´)ê°€ ëˆˆì¹˜ë¥¼ ì¤ë‹ˆë‹¤.",
        duo_normal: "${c1}(ì™€)ê³¼ ${c2}(ì€)ëŠ” ì•ˆë§ˆì˜ì ì‚¬ìš©ë²•ì„ ì—°êµ¬í•©ë‹ˆë‹¤."
    },
    'window_gaze': {
        solo_success: "${c1}(ì€)ëŠ” ì°½ë°– í’ê²½ì„ ë³´ë©° ì‹œìƒì„ ë– ì˜¬ë¦½ë‹ˆë‹¤.",
        solo_fail: "${c1}(ì€)ëŠ” ì°½ë¬¸ì— ì…ê¹€ì„ ë¶ˆë‹¤ ì–¼êµ´ ìêµ­ì„ ë‚¨ê²¼ìŠµë‹ˆë‹¤.",
        solo_normal: "${c1}(ì€)ëŠ” ì°½ë°–ì„ ë©í•˜ë‹ˆ ë´…ë‹ˆë‹¤.",
        duo_success: "${c1}(ì™€)ê³¼ ${c2}(ì€)ëŠ” ì°½ë°–ì„ ë³´ë©° ë¯¸ë˜ì— ëŒ€í•œ ì´ì•¼ê¸°ë¥¼ í•©ë‹ˆë‹¤.",
        duo_fail: "${c1}(ì™€)ê³¼ ${c2}(ì€)ëŠ” ì°½ë¬¸ì„ ì—´ì§€ ë§ì§€ ì˜¥ì‹ ê°ì‹ í•©ë‹ˆë‹¤.",
        duo_normal: "${c1}(ì™€)ê³¼ ${c2}(ì€)ëŠ” ë‚˜ë€íˆ ì°½ë¬¸ ì•ì— ì„œì„œ ë°–ì„ ë´…ë‹ˆë‹¤."
    },

    // --- ì‚¬êµ/ëŒ€í™” ---
    'bow': {
        solo_success: "${c1}(ì€)ëŠ” ì™„ë²½í•œ ìì„¸ë¡œ ì„¸ë°°ë¥¼ ì˜¬ë¦½ë‹ˆë‹¤.",
        solo_fail: "${c1}(ì€)ëŠ” ì„¸ë°°í•˜ë‹¤ ì¤‘ì‹¬ì„ ìƒê³  ì˜†ìœ¼ë¡œ êµ´ë €ìŠµë‹ˆë‹¤.",
        solo_normal: "${c1}(ì€)ëŠ” ë¬´ë‚œí•˜ê²Œ ì ˆì„ ì˜¬ë¦½ë‹ˆë‹¤.",
        duo_success: "${c1}(ì™€)ê³¼ ${c2}(ì€)ëŠ” ê¹”ë”í•œ ë™ì‘ìœ¼ë¡œ ë™ì‹œì— ì„¸ë°°ë¥¼ í•©ë‹ˆë‹¤.",
        duo_fail: "${c1}(ì´)ê°€ ì ˆí•˜ëŠ” ${c2}(ì„)ë¥¼ ê±´ë“œë ¤ ë„˜ì–´ëœ¨ë ¸ìŠµë‹ˆë‹¤.",
        duo_normal: "${c1}(ì™€)ê³¼ ${c2}(ì€)ëŠ” ì–´ë¥¸ë“¤ê»˜ ì„¸ë°°ë¥¼ ì˜¬ë¦½ë‹ˆë‹¤."
    },
    'allowance': {
        solo_success: "${c1}(ì€)ëŠ” ë‘ë‘‘í•œ ì„¸ë±ƒëˆ ë´‰íˆ¬ë¥¼ ë°›ê³  ë¯¸ì†Œë¥¼ ì§“ìŠµë‹ˆë‹¤.",
        solo_fail: "${c1}(ì€)ëŠ” ë‚˜ì´ê°€ ë§ë‹¤ëŠ” ì´ìœ ë¡œ ì„¸ë±ƒëˆì„ ë°›ì§€ ëª»í–ˆìŠµë‹ˆë‹¤.",
        solo_normal: "${c1}(ì€)ëŠ” ì„¸ë±ƒëˆì„ ì£¼ê³ ë°›ìŠµë‹ˆë‹¤.",
        duo_success: "${c1}(ì™€)ê³¼ ${c2}(ì€)ëŠ” ì„œë¡œ ì„¸ë±ƒëˆ ì•¡ìˆ˜ë¥¼ í™•ì¸í•˜ê³  ë§Œì¡±í•´í•©ë‹ˆë‹¤.",
        duo_fail: "${c1}(ì´)ê°€ ${c2}ë³´ë‹¤ ì„¸ë±ƒëˆì„ ì ê²Œ ë°›ì•˜ë‹¤ë©° íˆ¬ëœê±°ë¦½ë‹ˆë‹¤.",
        duo_normal: "${c1}(ì™€)ê³¼ ${c2}(ì€)ëŠ” ì„¸ë±ƒëˆ ë´‰íˆ¬ë¥¼ ì±™ê¹ë‹ˆë‹¤."
    },
    'virtue': {
        solo_success: "${c1}(ì€)ëŠ” ë”°ëœ»í•œ ë•ë‹´ìœ¼ë¡œ ë¶„ìœ„ê¸°ë¥¼ í™”ê¸°ì• ì• í•˜ê²Œ ë§Œë“­ë‹ˆë‹¤.",
        solo_fail: "${c1}ì˜ ë§ì‹¤ìˆ˜ë¡œ ë¶„ìœ„ê¸°ê°€ ì‹¸í•´ì¡ŒìŠµë‹ˆë‹¤.",
        solo_normal: "${c1}(ì€)ëŠ” ë•ë‹´ì„ ë“£ê³  ì›ƒìŠµë‹ˆë‹¤.",
        duo_success: "${c1}(ì™€)ê³¼ ${c2}(ì€)ëŠ” ì„œë¡œì—ê²Œ ì§„ì‹¬ ì–´ë¦° ì¶•ë³µì„ í•´ì¤ë‹ˆë‹¤.",
        duo_fail: "${c1}(ì´)ê°€ ${c2}ì—ê²Œ ë•ë‹´ì¸ ì²™ ëŒë ¤ê¹Œê¸°ë¥¼ í•©ë‹ˆë‹¤.",
        duo_normal: "${c1}(ì™€)ê³¼ ${c2}(ì€)ëŠ” ìƒˆí•´ ì¸ì‚¬ë¥¼ ë‚˜ëˆ•ë‹ˆë‹¤."
    },
    'old_story': {
        solo_success: "${c1}(ì€)ëŠ” í¥ë¯¸ì§„ì§„í•œ ì˜›ë‚ ì´ì•¼ê¸°ë¡œ ì¢Œì¤‘ì„ ì••ë„í•©ë‹ˆë‹¤.",
        solo_fail: "${c1}(ì€)ëŠ” í–ˆë˜ ì´ì•¼ê¸°ë¥¼ ë˜ í•´ì„œ ë‹¤ë“¤ ì§€ë£¨í•´í•©ë‹ˆë‹¤.",
        solo_normal: "${c1}(ì€)ëŠ” ì¶”ì–µ ì´ì•¼ê¸°ë¥¼ í•©ë‹ˆë‹¤.",
        duo_success: "${c1}(ì™€)ê³¼ ${c2}(ì€)ëŠ” ì–´ë¦´ ì  ì¶”ì–µì„ ê³µìœ í•˜ë©° ê³µê°ëŒ€ë¥¼ í˜•ì„±í•©ë‹ˆë‹¤.",
        duo_fail: "${c1}(ì™€)ê³¼ ${c2}(ì€)ëŠ” ì„œë¡œì˜ í‘ì—­ì‚¬ë¥¼ í­ë¡œí•˜ë©° ì‹¸ì›ë‹ˆë‹¤.",
        duo_normal: "${c1}(ì™€)ê³¼ ${c2}(ì€)ëŠ” ì˜›ë‚  ì‚¬ì§„ì„ ë³´ë©° ì´ì•¼ê¸°í•©ë‹ˆë‹¤."
    },
    'marriage_nag': {
        solo_success: "${c1}(ì€)ëŠ” ê²°í˜¼ ì”ì†Œë¦¬ë¥¼ ì›ƒì–´ë„˜ê¸°ë©° ì˜ ë°›ì•„ì³¤ìŠµë‹ˆë‹¤.",
        solo_fail: "${c1}(ì€)ëŠ” ìŸì•„ì§€ëŠ” ì”ì†Œë¦¬ì— ì²´í•  ê²ƒ ê°™ìŠµë‹ˆë‹¤.",
        solo_normal: "${c1}(ì€)ëŠ” ê²°í˜¼ ì”ì†Œë¦¬ì— ë¬µë¬µë¶€ë‹µìœ¼ë¡œ ì¼ê´€í•©ë‹ˆë‹¤.",
        duo_success: "${c1}(ì´)ê°€ ì”ì†Œë¦¬ì— ê³¤ë€í•´í•  ë•Œ ${c2}(ì´)ê°€ í™”ì œë¥¼ ëŒë ¤ êµ¬í•´ì¤ë‹ˆë‹¤.",
        duo_fail: "${c1}(ì´)ê°€ ${c2}ì—ê²Œ ë„ˆë¶€í„° ê²°í˜¼í•˜ë¼ë©° í™”ì‚´ì„ ëŒë¦½ë‹ˆë‹¤.",
        duo_normal: "${c1}(ì™€)ê³¼ ${c2}(ì€)ëŠ” ê²°í˜¼ ì”ì†Œë¦¬ì— ì–´ìƒ‰í•œ ë¯¸ì†Œë¥¼ ì§“ìŠµë‹ˆë‹¤."
    },
    'job_nag': {
        solo_success: "${c1}(ì€)ëŠ” ìì‹ ì˜ ë¹„ì „ì„ ë‹¹ë‹¹í•˜ê²Œ ì„¤ëª…í•´ ì–´ë¥¸ë“¤ì„ ë‚©ë“ì‹œí‚µë‹ˆë‹¤.",
        solo_fail: "${c1}(ì€)ëŠ” ì·¨ì—…ê³¼ ì¥ë˜ ì§ˆë¬¸ì— ì •ì‹ ì´ í˜¼ë¯¸í•´ì§‘ë‹ˆë‹¤.",
        solo_normal: "${c1}(ì€)ëŠ” ìì‹ ì˜ ì¥ë˜ëŠ” ìì‹ ì´ ì•Œì•„ì„œ í•  ê²ƒì´ë¼ê³  ì”ì†Œë¦¬ë¥¼ ë„˜ê¹ë‹ˆë‹¤.",
        duo_success: "${c1}(ì™€)ê³¼ ${c2}(ì€)ëŠ” ì”ì†Œë¦¬ì— ì„œë¡œì˜ ìƒí™©ì„ ë³€í˜¸í•´ì£¼ë©° ëˆëˆí•´ì§‘ë‹ˆë‹¤.",
        duo_fail: "${c1}(ì™€)ê³¼ ${c2}(ì€)ëŠ” ì„œë¡œì˜ ë²Œì´ë¥¼ ë¹„êµë‹¹í•´ ê¸°ë¶„ì´ ìƒí•©ë‹ˆë‹¤.",
        duo_normal: "${c1}(ì™€)ê³¼ ${c2}(ì€)ëŠ” ì”ì†Œë¦¬ì— ê³ ê°œë¥¼ í‘¹ ìˆ™ì…ë‹ˆë‹¤."
    },
    'study_nag': {
        solo_success: "${c1}(ì€)ëŠ” ìì‹ ì˜ ì„±ì ì— ëŒ€í•´ ë¨¼ì € ì–˜ê¸°í•˜ë©° ì”ì†Œë¦¬ë¥¼ ì°¨ë‹¨í•©ë‹ˆë‹¤.",
        solo_fail: "${c1}(ì€)ëŠ” ì„±ì  ì§ˆë¬¸ì— ë„ë§ê°€ê³  ì‹¶ì–´ í•©ë‹ˆë‹¤.",
        solo_normal: "${c1}(ì€)ëŠ” ì–´ë¥¸ë“¤ì˜ ì¡°ì–¸ì— ì•ìœ¼ë¡œë„ ì—´ì‹¬íˆ í•˜ê² ë‹¤ê³  ë§í•©ë‹ˆë‹¤.",
        duo_success: "${c1}(ì´)ê°€ ${c2}ì˜ ë…¸ë ¥ì„ ì¹­ì°¬í•´ì¤ë‹ˆë‹¤.",
        duo_fail: "${c1}(ì´)ê°€ ${c2}ì˜ ì„±ì ì„ ì‹¤ìˆ˜ë¡œ ë§í•´ë²„ë ¸ìŠµë‹ˆë‹¤.",
        duo_normal: "${c1}(ì™€)ê³¼ ${c2}(ì€)ëŠ” ëŒ€í•™ ì´ì•¼ê¸°ë¥¼ ë“£ìŠµë‹ˆë‹¤."
    },
    'praise': {
        solo_success: "${c1}(ì€)ëŠ” ì¹­ì°¬ì„ ë“£ê³  ìì¡´ê°ì´ ì˜¬ë¼ê°‘ë‹ˆë‹¤.",
        solo_fail: "${c1}(ì€)ëŠ” ê³¼í•œ ì¹­ì°¬ì´ ë¶€ë‹´ìŠ¤ëŸ¬ì›Œ ëª¸ ë‘˜ ë°”ë¥¼ ëª¨ë¦…ë‹ˆë‹¤.",
        solo_normal: "${c1}(ì€)ëŠ” ì¹­ì°¬ì— ê²¸ì†í•˜ê²Œ ë°˜ì‘í•©ë‹ˆë‹¤.",
        duo_success: "${c1}(ì™€)ê³¼ ${c2}(ì€)ëŠ” ì„œë¡œë¥¼ ì¹˜ì¼œì„¸ìš°ë©° í›ˆí›ˆí•œ ë¶„ìœ„ê¸°ë¥¼ ë§Œë“­ë‹ˆë‹¤.",
        duo_fail: "${c1}(ì´)ê°€ ì¹­ì°¬ì„ ë¹„ê¼¬ëŠ” ê²ƒìœ¼ë¡œ ì˜¤í•´í•´ ${c2}ì™€ ì„œë¨¹í•´ì§‘ë‹ˆë‹¤.",
        duo_normal: "${c1}(ì™€)ê³¼ ${c2}(ì€)ëŠ” ì„œë¡œì˜ ë…¸ê³ ë¥¼ ì¹­ì°¬í•©ë‹ˆë‹¤."
    },
    'album': {
        solo_success: "${c1}(ì€)ëŠ” ìì‹ ì˜ ì–´ë¦° ì‹œì ˆ ì‚¬ì§„ì„ ë°œê²¬í•˜ê³  íë­‡í•´í•©ë‹ˆë‹¤.",
        solo_fail: "${c1}(ì€)ëŠ” íƒœìš°ê³  ì‹¶ì€ ë¶€ë„ëŸ¬ìš´ ì‚¬ì§„ì„ ë°œê²¬í•˜ê³  ê¹Šìˆ™í•œ ê³³ì— ìˆ¨ê¹ë‹ˆë‹¤.",
        solo_normal: "${c1}(ì€)ëŠ” ë¨¼ì§€ ìŒ“ì¸ ì•¨ë²”ì„ ë„˜ê²¨ë´…ë‹ˆë‹¤.",
        duo_success: "${c1}(ì™€)ê³¼ ${c2}(ì€)ëŠ” ì–´ë¦´ ì  ê°™ì´ ì°ì€ ì‚¬ì§„ì„ ë³´ë©° ì¶”ì–µì— ì ê¹ë‹ˆë‹¤.",
        duo_fail: "${c1}(ì´)ê°€ ${c2}ì˜ ìëŠ” ì–¼êµ´ì„ ì°ì–´ ë‹¨í†¡ë°©ì— ì˜¬ë¦¬ë ¤ í•©ë‹ˆë‹¤.",
        duo_normal: "${c1}(ì™€)ê³¼ ${c2}(ì€)ëŠ” ì˜›ë‚  ì•¨ë²” ì† ì¸ë¬¼ì´ ëˆ„êµ¬ì¸ì§€ ë§í˜€ë´…ë‹ˆë‹¤."
    },
    'video_call': {
        solo_success: "${c1}(ì€)ëŠ” ë©€ë¦¬ ìˆëŠ” ì¹œì²™ê³¼ ë°˜ê°‘ê²Œ í†µí™”í–ˆìŠµë‹ˆë‹¤.",
        solo_fail: "${c1}(ì€)ëŠ” ì˜ìƒ í†µí™” ë„ì¤‘ ì™€ì´íŒŒì´ê°€ ëŠê²¨ì„œ í™”ë©´ì´ ë©ˆì·„ìŠµë‹ˆë‹¤.",
        solo_normal: "${c1}(ì€)ëŠ” ì˜ìƒ í†µí™” í™”ë©´ì„ ë³´ë©° ì†ì„ í”ë“­ë‹ˆë‹¤.",
        duo_success: "${c1}(ì™€)ê³¼ ${c2}(ì€)ëŠ” ì˜ìƒ í†µí™”ì— ê°™ì´ ë‚˜ì˜¤ë ¤ê³  ì–¼êµ´ì„ ë§ëŒ‘ë‹ˆë‹¤.",
        duo_fail: "${c1}(ì™€)ê³¼ ${c2}(ì€)ëŠ” ì„œë¡œ í†µí™”í•˜ê² ë‹¤ê³  í°ì„ ëºìŠµë‹ˆë‹¤.",
        duo_normal: "${c1}(ì™€)ê³¼ ${c2}(ì€)ëŠ” ë²ˆê°ˆì•„ ê°€ë©° ì¸ì‚¬ë¥¼ í•©ë‹ˆë‹¤."
    }
};

const GENERAL_SCRIPTS = {
    solo: [
        "${c1}(ì€)ëŠ” ì ì‹œ í—ˆë¦¬ë¥¼ í´ë©° íœ´ì‹ì„ ì·¨í•©ë‹ˆë‹¤.",
        "${c1}(ì€)ëŠ” ì¡°ìš©íˆ ë¯¸ì†Œë¥¼ ì§€ìœ¼ë©° ì£¼ë³€ì„ ë‘˜ëŸ¬ë´…ë‹ˆë‹¤.",
        "${c1}(ì€)ëŠ” ì˜·ë§¤ë¬´ìƒˆë¥¼ ë‹¨ì •í•˜ê²Œ ë‹¤ë“¬ê³  ìˆìŠµë‹ˆë‹¤.",
        "${c1}(ì€)ëŠ” ë”°ëœ»í•œ ë°©ë°”ë‹¥ì˜ ì˜¨ê¸°ë¥¼ ëŠë¼ê³  ìˆìŠµë‹ˆë‹¤.",
        "${c1}(ì€)ëŠ” ì–´ë””ì„ ê°€ ë“¤ë ¤ì˜¤ëŠ” ì›ƒìŒì†Œë¦¬ì— ê·€ë¥¼ ê¸°ìš¸ì…ë‹ˆë‹¤.",
        "${c1}(ì€)ëŠ” ë§›ìˆëŠ” ìŒì‹ ëƒ„ìƒˆì— ê¸°ë¶„ì´ ì¢‹ì•„ì§‘ë‹ˆë‹¤.",
        "${c1}(ì€)ëŠ” ê¸°ë¶„ ì¢‹ì€ í‘œì •ìœ¼ë¡œ ì½§ë…¸ë˜ë¥¼ í¥ì–¼ê±°ë¦½ë‹ˆë‹¤."
    ],
    duo: [
        "${c1}(ì™€)ê³¼ ${c2}(ì€)ëŠ” ì„œë¡œ ë§ˆì£¼ ë³´ê³  ê°€ë³ê²Œ ëª©ë¡€ë¥¼ í•©ë‹ˆë‹¤.",
        "${c1}(ì™€)ê³¼ ${c2}(ì€)ëŠ” ë„ë€ë„ë€ ì •ê²¨ìš´ ì´ì•¼ê¸°ë¥¼ ë‚˜ëˆ•ë‹ˆë‹¤.",
        "${c1}(ì™€)ê³¼ ${c2}(ì€)ëŠ” ì ì‹œ ì–´ìƒ‰í•œ ì¹¨ë¬µì„ ê³µìœ í•©ë‹ˆë‹¤.",
        "${c1}(ì€)ëŠ” ${c2}ì˜ ì˜·ì°¨ë¦¼ì„ ì¹­ì°¬í•´ì¤ë‹ˆë‹¤.",
        "${c1}(ì™€)ê³¼ ${c2}(ì€)ëŠ” í…”ë ˆíŒŒì‹œê°€ í†µí–ˆëŠ”ì§€ ë™ì‹œì— ê°™ì€ ê³³ì„ ë´…ë‹ˆë‹¤.",
        "${c1}(ì™€)ê³¼ ${c2}(ì€)ëŠ” ì„œë¡œì˜ ê±´ê°•ì„ ë¬¼ìœ¼ë©° ì•ˆë¶€ë¥¼ ì „í•©ë‹ˆë‹¤.",
        "${c1}(ì™€)ê³¼ ${c2}(ì€)ëŠ” ë§ˆì£¼ ë³´ê³  í™˜í•˜ê²Œ ì›ƒìŠµë‹ˆë‹¤.",
        "${c1}(ì€)ëŠ” ${c2}ì˜ ì–´ê¹¨ë¥¼ ê°€ë³ê²Œ í† ë‹¥ì—¬ì¤ë‹ˆë‹¤."
    ]
};

function generateScript(action, type, char1, char2 = null) {
    const c1 = char1.name;
    const c2 = char2 ? char2.name : "";

    if (Math.random() < 0.3) {
        const list = char2 ? GENERAL_SCRIPTS.duo : GENERAL_SCRIPTS.solo;
        const randomScript = list[Math.floor(Math.random() * list.length)];
        return randomScript.replace(/\${c1}/g, c1).replace(/\${c2}/g, c2);
    }

    const templates = ACTION_SCRIPTS[action.id] || {
        solo_normal: `${c1}(ì€)ëŠ” ${action.name} ì¤‘ì…ë‹ˆë‹¤.`,
    };

    let script = templates[type];
    
    if (!script) script = `${c1} ${action.name} (${type})`;

    return script.replace(/\${c1}/g, c1).replace(/\${c2}/g, c2);
}

/* --- Core Logic --- */

function handleEnter(e) {
    if (e.key === 'Enter') addCharacter();
}

function addCharacter() {
    const input = document.getElementById('charInput');
    const name = input.value.trim();
    
    if (!name) return alert("ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.");
    if (characters.length >= 30) return alert("ìµœëŒ€ 30ëª…ê¹Œì§€ë§Œ ë“±ë¡ ê°€ëŠ¥í•©ë‹ˆë‹¤.");
    if (characters.find(c => c.name === name)) return alert("ì´ë¯¸ ì¡´ì¬í•˜ëŠ” ì´ë¦„ì…ë‹ˆë‹¤.");

    const newChar = {
        id: Date.now() + Math.random(),
        name: name,
        relationships: {},
        lastAction: "",
        location: "living",
        speech: ""
    };

    characters.forEach(c => {
        c.relationships[newChar.id] = 0;
        newChar.relationships[c.id] = 0;
    });

    characters.push(newChar);
    input.value = '';
    renderRoster();
}

function removeCharacter(id) {
    characters = characters.filter(c => c.id !== id);
    characters.forEach(c => delete c.relationships[id]);
    renderRoster();
}

function renderRoster() {
    const list = document.getElementById('charList');
    const empty = document.getElementById('emptyState');
    const controls = document.getElementById('dataControls');
    
    if (characters.length === 0) {
        list.innerHTML = '';
        empty.style.display = 'block';
        controls.style.display = 'none';
        return;
    }
    
    empty.style.display = 'none';
    controls.style.display = 'grid';
    list.innerHTML = characters.map(c => `
        <div class="char-card" onclick="showCharDetail(${c.id})">
            <button class="delete-btn" onclick="event.stopPropagation(); removeCharacter(${c.id})">
                <i class="fas fa-times"></i>
            </button>
            <div class="char-avatar" style="background-color: ${stringToColor(c.name)}">
                ${c.name[0]}
            </div>
            <div class="char-name">${c.name}</div>
        </div>
    `).join('');
}

function nextDay() {
    if (characters.length < 1) return alert("ìµœì†Œ 1ëª…ì˜ ìºë¦­í„°ê°€ í•„ìš”í•©ë‹ˆë‹¤.");
    
    day++;
    
    processDayLogic();
    
    pruneLogs();

    renderMap();
    renderLogs();
    switchTab('log'); 
    
    document.getElementById('view-log').scrollIntoView();
}

function pruneLogs() {
    let total = 0;
    logs.forEach(d => total += d.items.length);
    
    while (total > 100 && logs.length > 0) {
        const oldestDay = logs[logs.length - 1];
        
        if (oldestDay.items.length > 0) {
            oldestDay.items.shift();
            total--;
        }
        
        if (oldestDay.items.length === 0) {
            logs.pop();
        }
    }
}

function processDayLogic() {
    const dayLogs = [];
    const shuffledChars = [...characters].sort(() => Math.random() - 0.5);
    const processedIds = new Set();
    
    characters.forEach(c => {
        c.speech = "";
        c.lastAction = "";
    });

    for (let i = 0; i < shuffledChars.length; i++) {
        const char1 = shuffledChars[i];
        if (processedIds.has(char1.id)) continue;

        let isDuo = false;
        let char2 = null;

        if (i + 1 < shuffledChars.length && !processedIds.has(shuffledChars[i+1].id) && Math.random() > 0.4) {
            char2 = shuffledChars[i+1];
            isDuo = true;
        }

        const action = actionDefinitions[Math.floor(Math.random() * actionDefinitions.length)];
        
        char1.location = action.room;
        char1.lastAction = action.name;
        
        if (isDuo) {
            char2.location = action.room;
            char2.lastAction = action.name;
            processedIds.add(char2.id);
        }
        processedIds.add(char1.id);

        const roll = Math.random();
        let outcomeType = 'normal';
        if (roll < 0.6) outcomeType = 'success';
        else if (roll < 0.8) outcomeType = 'fail'; 
        else outcomeType = 'normal'; 

        let affChange = 0;
        if (isDuo) {
            if (outcomeType === 'success') affChange = Math.floor(Math.random() * 15) + 1; 
            if (outcomeType === 'fail') affChange = (Math.floor(Math.random() * 15) + 1) * -1; 
            
            if (affChange !== 0) {
                updateAffinity(char1, char2, affChange);
            }
        }

        const scriptKey = (isDuo ? 'duo_' : 'solo_') + outcomeType;
        const scriptText = generateScript(action, scriptKey, char1, char2);

        dayLogs.push({
            text: scriptText,
            type: outcomeType,
            room: action.room,
            relationChange: isDuo && affChange !== 0 ? { c1: char1.name, c2: char2.name, val: affChange } : null
        });

        char1.speech = getSpeechEmoji(action.id, outcomeType);
        if (char2) char2.speech = getSpeechEmoji(action.id, outcomeType);
    }
    
    logs = [ { header: `${day}ë²ˆì§¸ ê¸°ë¡`, items: dayLogs }, ...logs ];
}

function updateAffinity(c1, c2, val) {
    let current = c1.relationships[c2.id] || 0;
    let next = Math.max(-100, Math.min(100, current + val));
    c1.relationships[c2.id] = next;
    c2.relationships[c1.id] = next; 
}

function getSpeechEmoji(actionId, outcome) {
    if (outcome === 'fail') return 'ğŸ’¦';
    if (outcome === 'success') return 'ğŸµ';
    
    if (actionId.includes('cook') || actionId.includes('food') || actionId.includes('snack') || actionId.includes('mandarin')) return 'ğŸ³';
    if (actionId.includes('yutnori') || actionId.includes('hwatu')) return 'ğŸ²';
    if (actionId.includes('sleep') || actionId.includes('nap')) return 'ğŸ’¤';
    if (actionId.includes('clean') || actionId.includes('sweep')) return 'ğŸ§¹';
    if (actionId.includes('tv') || actionId.includes('video')) return 'ğŸ“º';
    return 'ğŸ’¬';
}

/* --- UI Rendering --- */

function renderMap() {
    document.getElementById('mapEmpty').style.display = characters.length > 0 ? 'none' : 'block';
    
    ['living', 'kitchen', 'yard', 'ancestor'].forEach(r => {
        document.getElementById(`chars-${r}`).innerHTML = '';
    });

    characters.forEach(c => {
        if (!c.location) return;
        
        const roomMates = characters.filter(m => m.location === c.location && m.lastAction === c.lastAction && m.id !== c.id);
        const isDuo = roomMates.length > 0;

        const el = document.createElement('div');
        el.className = `mini-char ${isDuo ? 'duo' : ''}`;
        el.onclick = () => showCharDetail(c.id);
        el.innerHTML = `
            <div class="bubble">${c.lastAction || 'ëŒ€ê¸°ì¤‘'} ${c.speech}</div>
            <div class="head" style="background-color: ${stringToColor(c.name)}">${c.name[0]}</div>
        `;
        document.getElementById(`chars-${c.location}`).appendChild(el);
    });
}

function renderLogs() {
    const container = document.getElementById('logList');
    if (logs.length === 0) return;
    
    const latestDay = logs[0];
    let html = `<div style="margin-bottom: 20px;"><h3 class="serif" style="text-align:center; color:#a83f3f;">- ${latestDay.header} -</h3>`;
    
    html += latestDay.items.map(item => {
        let relBadge = '';
        if (item.relationChange) {
            const val = item.relationChange.val;
            const sign = val > 0 ? '+' : '';
            const cssClass = val > 0 ? 'plus' : 'minus';
            relBadge = `<div class="log-relation ${cssClass}">${item.relationChange.c1} & ${item.relationChange.c2} ì¹œë°€ë„ ${sign}${val}</div>`;
        }

        return `
        <div class="log-item ${item.type}">
            <div class="log-header">
                <span><i class="fas fa-map-marker-alt"></i> ${getRoomName(item.room)}</span>
                <span>${item.type === 'success' ? 'ì„±ê³µ' : (item.type === 'fail' ? 'ì‹¤íŒ¨' : 'ì¼ìƒ')}</span>
            </div>
            <div class="log-content">${item.text}</div>
            ${relBadge}
        </div>`;
    }).join('');
    
    html += `</div>`;
    
    if (logs.length > 1) {
        html += `<div style="text-align:center; color:#ccc; margin: 20px 0;">--- ì´ì „ ê¸°ë¡ ---</div>`;
            for(let i=1; i<logs.length; i++) {
                const prevDay = logs[i];
                html += `<div style="opacity: 0.7; margin-bottom: 20px;"><h4 style="text-align:center;">${prevDay.header}</h4>`;
                html += prevDay.items.map(item => `<div class="log-item normal" style="padding:10px;"><span style="color:#888;">${item.text}</span></div>`).join('');
                html += `</div>`;
            }
    }

    container.innerHTML = html;
}

function getRoomName(id) {
    const names = { 'living': 'ê±°ì‹¤', 'kitchen': 'ë¶€ì—Œ', 'yard': 'ë§ˆë‹¹', 'ancestor': 'ì•ˆë°©' };
    return names[id] || 'ì–´ë”˜ê°€';
}

function switchTab(tabId) {
    const map = { 'roster': 0, 'map': 1, 'log': 2 };
    document.querySelectorAll('.tab-btn').forEach((btn, idx) => {
        if (idx === map[tabId]) btn.classList.add('active');
        else btn.classList.remove('active');
    });

    document.querySelectorAll('.view').forEach(v => v.classList.remove('active'));
    document.getElementById(`view-${tabId}`).classList.add('active');
}

function showCharDetail(id) {
    const char = characters.find(c => c.id === id);
    if (!char) return;

    const modal = document.getElementById('charModal');
    document.getElementById('modalTitle').innerText = `${char.name}ì˜ ê´€ê³„ë„`;
    
    const sortedRels = Object.entries(char.relationships)
        .sort(([,a], [,b]) => b - a); 

    let content = '';
    if (sortedRels.length === 0) {
        content = '<p style="text-align:center; color:#999;">ì•„ì§ ê´€ê³„ê°€ í˜•ì„±ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.</p>';
    } else {
        content = sortedRels.map(([targetId, score]) => {
            const target = characters.find(c => c.id == targetId);
            if (!target) return '';
            return `
                <div class="rel-item">
                    <div>
                        <strong>${target.name}</strong>
                        <span class="rel-label">${getRelationTitle(score)}</span>
                    </div>
                    <div class="rel-score" style="color:${score > 0 ? '#2d7a4b' : (score < 0 ? '#a83f3f' : '#888')}">
                        ${score}
                    </div>
                </div>
            `;
        }).join('');
    }
    
    document.getElementById('modalContent').innerHTML = content;
    modal.style.display = 'flex';
}

function closeModal(e) {
    if (e.target.id === 'charModal' || e.target.id === 'infoModal') {
        e.target.style.display = 'none';
    }
}

function openInfoModal() {
    document.getElementById('infoModal').style.display = 'flex';
}

function stringToColor(str) {
    let hash = 0;
    for (let i = 0; i < str.length; i++) {
        hash = str.charCodeAt(i) + ((hash << 5) - hash);
    }
    const c = (hash & 0x00FFFFFF).toString(16).toUpperCase();
    return '#' + "00000".substring(0, 6 - c.length) + c;
}

/* --- Update 2: Storage Functions --- */

const STORAGE_KEY = 'seollal_sim_data';

function saveData() {
    if(characters.length === 0) return alert("ì €ì¥í•  ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.");
    const data = {
        day: day,
        characters: characters,
        logs: logs
    };
    localStorage.setItem(STORAGE_KEY, JSON.stringify(data));
    alert("ëª…ë‹¨ê³¼ ì§„í–‰ ìƒí™©ì´ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.");
}

function loadData() {
    const json = localStorage.getItem(STORAGE_KEY);
    if(!json) return alert("ì €ì¥ëœ ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.");
    
    try {
        const data = JSON.parse(json);
        day = data.day || 1;
        characters = data.characters || [];
        logs = data.logs || [];
        
        renderRoster();
        renderMap();
        renderLogs();
        alert("ë°ì´í„°ë¥¼ ì„±ê³µì ìœ¼ë¡œ ë¶ˆëŸ¬ì™”ìŠµë‹ˆë‹¤.");
    } catch(e) {
        alert("ë°ì´í„° ë¶ˆëŸ¬ì˜¤ê¸° ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.");
        console.error(e);
    }
}

function resetRoster() {
    if(!confirm("í˜„ì¬ ëª…ë‹¨ì€ ìœ ì§€í•˜ë˜, ëª¨ë“  ê´€ê³„ì™€ ë¡œê·¸ë¥¼ ì´ˆê¸°í™”í•˜ì‹œê² ìŠµë‹ˆê¹Œ?")) return;
    
    day = 1;
    logs = [];
    characters.forEach(c => {
        c.relationships = {};
        c.location = 'living';
        c.lastAction = '';
        c.speech = '';
    });
    const ids = characters.map(c => c.id);
    characters.forEach(c => {
        ids.forEach(targetId => {
            if(c.id !== targetId) c.relationships[targetId] = 0;
        });
    });

    renderRoster();
    renderMap();
    renderLogs();
    alert("ê´€ê³„ê°€ ì´ˆê¸°í™”ë˜ì—ˆìŠµë‹ˆë‹¤. ì²˜ìŒë¶€í„° ë‹¤ì‹œ ì‹œì‘í•©ë‹ˆë‹¤.");
}

function hardReset() {
    if(!confirm("ëª¨ë“  ë°ì´í„°ë¥¼ ì‚­ì œí•˜ê³  ì²˜ìŒ ìƒíƒœë¡œ ëŒì•„ê°€ì‹œê² ìŠµë‹ˆê¹Œ?")) return;
    
    day = 1;
    characters = [];
    logs = [];
    localStorage.removeItem(STORAGE_KEY);
    
    renderRoster();
    renderMap();
    renderLogs();
}

renderRoster();
renderMap(); 